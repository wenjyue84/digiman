{
  "workflows": [
    {
      "id": "booking_payment_handler",
      "name": "Booking & Payment Handler",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "Happy to help with your booking! How many guests will be staying?",
            "ms": "Boleh bantu! Berapa orang tetamu nak check in?",
            "zh": "å¥½çš„ï¼Œæˆ‘æ¥å¸®æ‚¨åŠç†ï¼è¯·é—®å‡ ä½å®¢äººå…¥ä½ï¼Ÿ"
          },
          "waitForReply": true
        },
        {
          "id": "s2",
          "message": {
            "en": "What are your check-in and check-out dates?",
            "ms": "Tarikh check-in dan check-out?",
            "zh": "æ‚¨çš„å…¥ä½å’Œé€€æˆ¿æ—¥æœŸæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ"
          },
          "waitForReply": true
        },
        {
          "id": "s3",
          "message": {
            "en": "If you have made a payment, please share your payment receipt. Otherwise, I'll forward this conversation to our admin at +60127088789 for further assistance.",
            "ms": "Kalau dah bayar, boleh share resit. Kalau belum, saya forward ke admin kami di +60127088789 untuk bantuan lanjut.",
            "zh": "å¦‚æœæ‚¨å·²ä»˜æ¬¾ï¼Œè¯·åˆ†äº«æ‚¨çš„ä»˜æ¬¾æ”¶æ®ã€‚å¦åˆ™ï¼Œæˆ‘ä¼šå°†æ­¤å¯¹è¯è½¬å‘ç»™æˆ‘ä»¬çš„ç®¡ç†å‘˜ +60127088789 ä»¥è·å¾—è¿›ä¸€æ­¥å¸®åŠ©ã€‚"
          },
          "waitForReply": true
        },
        {
          "id": "s4",
          "message": {
            "en": "Thank you! I'm forwarding your booking details and payment information to our admin at +60127088789. They will contact you shortly to confirm your reservation.",
            "ms": "Terima kasih! Dah forward butiran tempahan dan pembayaran ke admin kami di +60127088789. Mereka akan hubungi tak lama lagi untuk sahkan tempahan.",
            "zh": "è°¢è°¢ï¼æˆ‘æ­£åœ¨å°†æ‚¨çš„é¢„è®¢è¯¦æƒ…å’Œä»˜æ¬¾ä¿¡æ¯è½¬å‘ç»™æˆ‘ä»¬çš„ç®¡ç†å‘˜ +60127088789ã€‚ä»–ä»¬ä¼šå°½å¿«ä¸æ‚¨è”ç³»ç¡®è®¤é¢„è®¢ã€‚"
          },
          "waitForReply": false,
          "action": {
            "type": "forward_payment"
          }
        },
        {
          "id": "s5",
          "message": {
            "en": "âœ… Message sent to admin (+60127088789). They will review your booking and contact you soon!",
            "ms": "âœ… Mesej dah dihantar ke admin (+60127088789). Mereka akan semak tempahan dan hubungi tak lama lagi!",
            "zh": "âœ… æ¶ˆæ¯å·²å‘é€ç»™ç®¡ç†å‘˜ (+60127088789)ã€‚ä»–ä»¬ä¼šå®¡æ ¸æ‚¨çš„é¢„è®¢å¹¶å°½å¿«è”ç³»æ‚¨ï¼"
          },
          "waitForReply": false
        }
      ],
      "format": "nodes",
      "startNodeId": "wait_guest_count",
      "nodes": [
        {
          "id": "wait_guest_count",
          "type": "wait_reply",
          "label": "Ask guest count",
          "config": {
            "storeAs": "guest_count",
            "prompt": {
              "en": "Happy to help with your booking! How many guests will be staying?",
              "ms": "Boleh bantu! Berapa orang tetamu nak check in?",
              "zh": "å¥½çš„ï¼Œæˆ‘æ¥å¸®æ‚¨åŠç†ï¼è¯·é—®å‡ ä½å®¢äººå…¥ä½ï¼Ÿ"
            }
          },
          "next": "wait_booking_dates"
        },
        {
          "id": "wait_booking_dates",
          "type": "wait_reply",
          "label": "Ask check-in/out dates",
          "config": {
            "storeAs": "booking_dates",
            "prompt": {
              "en": "What are your check-in and check-out dates?",
              "ms": "Tarikh check-in dan check-out?",
              "zh": "æ‚¨çš„å…¥ä½å’Œé€€æˆ¿æ—¥æœŸæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ"
            }
          },
          "next": "wait_payment_receipt"
        },
        {
          "id": "wait_payment_receipt",
          "type": "wait_reply",
          "label": "Ask for payment receipt",
          "config": {
            "storeAs": "payment_info",
            "prompt": {
              "en": "If you have made a payment, please share your payment receipt. Otherwise, I'll forward this conversation to our admin at +60127088789 for further assistance.",
              "ms": "Kalau dah bayar, boleh share resit. Kalau belum, saya forward ke admin kami di +60127088789 untuk bantuan lanjut.",
              "zh": "å¦‚æœæ‚¨å·²ä»˜æ¬¾ï¼Œè¯·åˆ†äº«æ‚¨çš„ä»˜æ¬¾æ”¶æ®ã€‚å¦åˆ™ï¼Œæˆ‘ä¼šå°†æ­¤å¯¹è¯è½¬å‘ç»™æˆ‘ä»¬çš„ç®¡ç†å‘˜ +60127088789 ä»¥è·å¾—è¿›ä¸€æ­¥å¸®åŠ©ã€‚"
            }
          },
          "next": "booking_forwarding_msg"
        },
        {
          "id": "booking_forwarding_msg",
          "type": "message",
          "label": "Forwarding to admin",
          "config": {
            "message": {
              "en": "Thank you! I'm forwarding your booking details and payment information to our admin. They will contact you shortly to confirm your reservation.",
              "ms": "Terima kasih! Dah forward butiran tempahan dan pembayaran ke admin kami. Mereka akan hubungi tak lama lagi untuk sahkan tempahan.",
              "zh": "è°¢è°¢ï¼æˆ‘æ­£åœ¨å°†æ‚¨çš„é¢„è®¢è¯¦æƒ…å’Œä»˜æ¬¾ä¿¡æ¯è½¬å‘ç»™æˆ‘ä»¬çš„ç®¡ç†å‘˜ã€‚ä»–ä»¬ä¼šå°½å¿«ä¸æ‚¨è”ç³»ç¡®è®¤é¢„è®¢ã€‚"
            }
          },
          "next": "booking_notify_admin"
        },
        {
          "id": "booking_notify_admin",
          "type": "whatsapp_send",
          "label": "Notify admin about booking",
          "config": {
            "receiver": "{{system.admin_phone}}",
            "content": {
              "en": "ğŸ“‹ *New Booking Request*\nGuest: {{guest.name}}\nPhone: {{guest.phone}}\nGuests: {{workflow.data.guest_count}}\nDates: {{workflow.data.booking_dates}}\nPayment info: {{workflow.data.payment_info}}\nPlease review and confirm.",
              "ms": "ğŸ“‹ *Tempahan Baru*\nTetamu: {{guest.name}}\nTelefon: {{guest.phone}}\nBilangan tetamu: {{workflow.data.guest_count}}\nTarikh: {{workflow.data.booking_dates}}\nMaklumat pembayaran: {{workflow.data.payment_info}}\nSila semak dan sahkan.",
              "zh": "ğŸ“‹ *æ–°é¢„è®¢è¯·æ±‚*\nå®¢äººï¼š{{guest.name}}\nç”µè¯ï¼š{{guest.phone}}\näººæ•°ï¼š{{workflow.data.guest_count}}\næ—¥æœŸï¼š{{workflow.data.booking_dates}}\nä»˜æ¬¾ä¿¡æ¯ï¼š{{workflow.data.payment_info}}\nè¯·å®¡æ ¸å¹¶ç¡®è®¤ã€‚"
            },
            "urgency": "normal"
          },
          "next": "booking_confirm_msg"
        },
        {
          "id": "booking_confirm_msg",
          "type": "message",
          "label": "Booking confirmation",
          "config": {
            "message": {
              "en": "âœ… Message sent to admin (+60127088789). They will review your booking and contact you soon!",
              "ms": "âœ… Mesej dihantar ke admin (+60127088789). Mereka akan semak tempahan anda dan hubungi anda tidak lama lagi!",
              "zh": "âœ… æ¶ˆæ¯å·²å‘é€ç»™ç®¡ç†å‘˜ (+60127088789)ã€‚ä»–ä»¬ä¼šå®¡æ ¸æ‚¨çš„é¢„è®¢å¹¶å°½å¿«è”ç³»æ‚¨ï¼"
            }
          }
        }
      ]
    },
    {
      "id": "checkin_full",
      "name": "Complete Check-in Process",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "Welcome to Pelangi Capsule Hostel! I'll guide you through the check-in process. Have you arrived at the hostel?",
            "ms": "Selamat datang ke Pelangi Capsule Hostel! Saya akan pandu anda melalui proses check-in. Adakah anda sudah tiba di hostel?",
            "zh": "æ¬¢è¿æ¥åˆ°Pelangièƒ¶å›Šæ—…èˆï¼æˆ‘æ¥å¸¦æ‚¨å®Œæˆå…¥ä½æµç¨‹(check-in process)ã€‚æ‚¨åˆ°è¾¾(arrived)æ—…èˆäº†å—ï¼Ÿ"
          },
          "waitForReply": true
        },
        {
          "id": "s2",
          "message": {
            "en": "Great! Please provide your full name as shown on your passport or IC for verification.",
            "ms": "Bagus! Sila berikan nama penuh anda seperti dalam pasport atau IC untuk pengesahan.",
            "zh": "å¥½çš„ï¼è¯·æä¾›æ‚¨æŠ¤ç…§(passport)æˆ–èº«ä»½è¯(IC)ä¸Šçš„å…¨åä»¥ä¾›æ ¸å®ã€‚"
          },
          "waitForReply": true
        },
        {
          "id": "s3",
          "message": {
            "en": "Thank you! Please upload a photo of your passport or IC document for our records.",
            "ms": "Terima kasih! Sila muat naik (upload) foto pasport atau IC anda untuk rekod kami.",
            "zh": "è°¢è°¢ï¼è¯·ä¸Šä¼ (upload)æ‚¨çš„æŠ¤ç…§(passport)æˆ–èº«ä»½è¯ç…§ç‰‡ä¾›æˆ‘ä»¬å­˜æ¡£ã€‚"
          },
          "waitForReply": true
        },
        {
          "id": "s4",
          "message": {
            "en": "Got it! What is your check-in date? (e.g., 12 Feb 2026)",
            "ms": "Baik! Apakah tarikh check-in anda? (contoh: 12 Feb 2026)",
            "zh": "å¥½çš„ï¼æ‚¨çš„å…¥ä½(check-in)æ—¥æœŸæ˜¯ï¼Ÿï¼ˆä¾‹å¦‚ï¼š2026å¹´2æœˆ12æ—¥ï¼‰"
          },
          "waitForReply": true
        },
        {
          "id": "s5",
          "message": {
            "en": "And when will you be checking out?",
            "ms": "Dan bilakah anda akan check-out?",
            "zh": "æ‚¨ä»€ä¹ˆæ—¶å€™é€€æˆ¿ï¼Ÿ"
          },
          "waitForReply": true
        },
        {
          "id": "s6",
          "message": {
            "en": "Thank you! We have capsules available for your stay. I've forwarded your check-in details to our admin team at +60127088789. They will confirm your capsule assignment shortly.",
            "ms": "Terima kasih! Kami ada capsule tersedia untuk penginapan anda. Saya dah forward butiran check-in anda ke pasukan admin kami di +60127088789. Mereka akan sahkan penugasan capsule anda tidak lama lagi.",
            "zh": "è°¢è°¢ï¼æˆ‘ä»¬æœ‰èƒ¶å›Šæˆ¿(capsule)å¯ä¾›å…¥ä½ã€‚æˆ‘å·²å°†æ‚¨çš„å…¥ä½è¯¦æƒ…è½¬å‘(forward)ç»™ç®¡ç†å‘˜(admin) +60127088789ã€‚ä»–ä»¬å°†å°½å¿«ç¡®è®¤æ‚¨çš„èƒ¶å›Šæˆ¿åˆ†é…ã€‚"
          },
          "waitForReply": false
        }
      ],
      "format": "nodes",
      "startNodeId": "welcome_msg",
      "nodes": [
        {
          "id": "welcome_msg",
          "type": "message",
          "label": "Welcome greeting",
          "config": {
            "message": {
              "en": "Welcome to Pelangi Capsule Hostel! ğŸ‰ I'll help you with check-in.",
              "ms": "Selamat datang ke Pelangi Capsule Hostel! ğŸ‰ Saya akan bantu anda check-in.",
              "zh": "æ¬¢è¿æ¥åˆ°Pelangièƒ¶å›Šæ—…èˆï¼ğŸ‰ æˆ‘æ¥å¸®æ‚¨åŠç†å…¥ä½ã€‚"
            }
          },
          "next": "wait_name"
        },
        {
          "id": "wait_name",
          "type": "wait_reply",
          "label": "Ask guest name",
          "config": {
            "storeAs": "guest_name",
            "prompt": {
              "en": "What is your full name (as on your passport or IC)?",
              "ms": "Apakah nama penuh anda (seperti dalam pasport atau IC)?",
              "zh": "è¯·é—®æ‚¨çš„å…¨åæ˜¯ä»€ä¹ˆï¼ˆæŠ¤ç…§æˆ–èº«ä»½è¯ä¸Šçš„ï¼‰ï¼Ÿ"
            }
          },
          "next": "wait_dates"
        },
        {
          "id": "wait_dates",
          "type": "wait_reply",
          "label": "Ask check-in/out dates",
          "config": {
            "storeAs": "stay_dates",
            "prompt": {
              "en": "Thank you, {{workflow.data.guest_name}}! What are your check-in and check-out dates?\n(e.g., Check-in: 15 Feb, Check-out: 17 Feb)",
              "ms": "Terima kasih, {{workflow.data.guest_name}}! Apakah tarikh check-in dan check-out anda?\n(contoh: Check-in: 15 Feb, Check-out: 17 Feb)",
              "zh": "è°¢è°¢ï¼Œ{{workflow.data.guest_name}}ï¼æ‚¨çš„å…¥ä½å’Œé€€æˆ¿æ—¥æœŸæ˜¯ï¼Ÿ\nï¼ˆä¾‹å¦‚ï¼šå…¥ä½ï¼š2æœˆ15æ—¥ï¼Œé€€æˆ¿ï¼š2æœˆ17æ—¥ï¼‰"
            }
          },
          "next": "check_avail"
        },
        {
          "id": "check_avail",
          "type": "pelangi_api",
          "label": "Check capsule availability",
          "config": {
            "action": "check_availability"
          },
          "next": {
            "success": "check_avail_result",
            "error": "avail_error"
          },
          "outputs": {
            "availableCount": "availableCount",
            "availableCapsules": "availableCapsules"
          }
        },
        {
          "id": "check_avail_result",
          "type": "condition",
          "label": "Capsules available?",
          "config": {
            "field": "{{pelangi.availableCount}}",
            "operator": "gt",
            "value": 0,
            "trueNext": "create_link",
            "falseNext": "no_capsules_msg"
          }
        },
        {
          "id": "no_capsules_msg",
          "type": "message",
          "label": "No capsules available",
          "config": {
            "message": {
              "en": "I'm sorry, all capsules are currently occupied. ğŸ˜” Our admin at +60127088789 will contact you when one becomes available. We apologize for the inconvenience!",
              "ms": "Maaf, semua capsule sedang penuh. ğŸ˜” Admin kami di +60127088789 akan hubungi anda bila ada yang kosong. Kami mohon maaf atas kesulitan!",
              "zh": "æŠ±æ­‰ï¼Œç›®å‰æ‰€æœ‰èƒ¶å›Šæˆ¿éƒ½å·²æ»¡ã€‚ğŸ˜” æˆ‘ä»¬çš„ç®¡ç†å‘˜ +60127088789 ä¼šåœ¨æœ‰ç©ºæˆ¿æ—¶è”ç³»æ‚¨ã€‚éå¸¸æŠ±æ­‰ç»™æ‚¨å¸¦æ¥ä¸ä¾¿ï¼"
            }
          },
          "next": "notify_admin_waitlist"
        },
        {
          "id": "notify_admin_waitlist",
          "type": "whatsapp_send",
          "label": "Notify admin about waitlist",
          "config": {
            "receiver": "{{system.admin_phone}}",
            "content": {
              "en": "ğŸ“‹ *Waitlist Request*\nGuest: {{workflow.data.guest_name}}\nPhone: {{guest.phone}}\nDates: {{workflow.data.stay_dates}}\nNo capsules available â€” please follow up.",
              "ms": "ğŸ“‹ *Permintaan Senarai Tunggu*\nTetamu: {{workflow.data.guest_name}}\nTelefon: {{guest.phone}}\nTarikh: {{workflow.data.stay_dates}}\nTiada capsule â€” sila follow up.",
              "zh": "ğŸ“‹ *ç­‰å€™åå•*\nå®¢äººï¼š{{workflow.data.guest_name}}\nç”µè¯ï¼š{{guest.phone}}\næ—¥æœŸï¼š{{workflow.data.stay_dates}}\næ— å¯ç”¨èƒ¶å›Šæˆ¿â€”â€”è¯·è·Ÿè¿›ã€‚"
            },
            "urgency": "normal"
          }
        },
        {
          "id": "avail_error",
          "type": "message",
          "label": "API error fallback",
          "config": {
            "message": {
              "en": "I couldn't check availability right now, but don't worry â€” capsules are almost always available! Let me continue with your check-in. ğŸ˜Š",
              "ms": "Saya tak dapat check availability sekarang, tapi jangan risau â€” capsule biasanya ada! Biar saya teruskan check-in anda. ğŸ˜Š",
              "zh": "æš‚æ—¶æ— æ³•æŸ¥è¯¢ç©ºæˆ¿æƒ…å†µï¼Œä½†ä¸ç”¨æ‹…å¿ƒâ€”â€”é€šå¸¸éƒ½æœ‰ç©ºæˆ¿ï¼è®©æˆ‘ç»§ç»­ä¸ºæ‚¨åŠç†å…¥ä½ã€‚ğŸ˜Š"
            }
          },
          "next": "create_link"
        },
        {
          "id": "create_link",
          "type": "pelangi_api",
          "label": "Create self-check-in link",
          "config": {
            "action": "create_checkin_link",
            "params": {
              "guestName": "{{workflow.data.guest_name}}",
              "phoneNumber": "{{guest.phone}}"
            }
          },
          "next": {
            "success": "send_link_msg",
            "error": "link_error_msg"
          },
          "outputs": {
            "checkinLink": "checkinLink",
            "assignedCapsule": "assignedCapsule"
          }
        },
        {
          "id": "send_link_msg",
          "type": "message",
          "label": "Confirm link sent",
          "config": {
            "message": {
              "en": "Great news â€” we have capsules available! ğŸŠ\n\nI've assigned capsule *{{pelangi.assignedCapsule}}* for you and sent a self-check-in link to your WhatsApp.\n\nPlease fill in the form to complete your check-in! Our admin will be notified automatically once you're done.",
              "ms": "Berita baik â€” kami ada capsule tersedia! ğŸŠ\n\nSaya telah assign capsule *{{pelangi.assignedCapsule}}* untuk anda dan hantar link self-check-in ke WhatsApp anda.\n\nSila isi borang untuk lengkapkan check-in anda! Admin kami akan diberitahu secara automatik selepas selesai.",
              "zh": "å¥½æ¶ˆæ¯â€”â€”æˆ‘ä»¬æœ‰èƒ¶å›Šæˆ¿å¯ç”¨ï¼ğŸŠ\n\næˆ‘å·²ä¸ºæ‚¨åˆ†é…äº†èƒ¶å›Šæˆ¿ *{{pelangi.assignedCapsule}}* å¹¶å‘é€äº†è‡ªåŠ©å…¥ä½é“¾æ¥åˆ°æ‚¨çš„WhatsAppã€‚\n\nè¯·å¡«å†™è¡¨æ ¼ä»¥å®Œæˆå…¥ä½ï¼å®Œæˆåæˆ‘ä»¬çš„ç®¡ç†å‘˜ä¼šè‡ªåŠ¨æ”¶åˆ°é€šçŸ¥ã€‚"
            }
          },
          "next": "info_msg"
        },
        {
          "id": "link_error_msg",
          "type": "message",
          "label": "Link creation error fallback",
          "config": {
            "message": {
              "en": "I wasn't able to generate the check-in link automatically, but our staff will help you directly. Please proceed to the front desk or contact +60127088789.",
              "ms": "Saya tidak dapat buat link check-in secara automatik, tetapi staf kami akan bantu anda terus. Sila ke kaunter depan atau hubungi +60127088789.",
              "zh": "æ— æ³•è‡ªåŠ¨ç”Ÿæˆå…¥ä½é“¾æ¥ï¼Œä½†æˆ‘ä»¬çš„å·¥ä½œäººå‘˜ä¼šç›´æ¥å¸®åŠ©æ‚¨ã€‚è¯·åˆ°å‰å°æˆ–è”ç³» +60127088789ã€‚"
            }
          },
          "next": "info_msg"
        },
        {
          "id": "info_msg",
          "type": "message",
          "label": "Hostel info card",
          "config": {
            "message": {
              "en": "âœ… You're all set! Here's some useful info:\n\nğŸ“‹ *Quick Reference:*\nâ€¢ Check-in time: *2:00 PM*\nâ€¢ Check-out time: *12:00 PM*\nâ€¢ Door password: *1270#*\nâ€¢ WiFi: *PelangiHostel*\nâ€¢ Address: Jalan Dato Haji Hassan, JB\n\nğŸ¥ First time? Watch our video guide: https://youtu.be/bYj1M37xJiE\n\nNeed anything else? Just ask! ğŸ˜Š",
              "ms": "âœ… Semua siap! Ini maklumat berguna:\n\nğŸ“‹ *Rujukan Pantas:*\nâ€¢ Masa check-in: *2:00 PM*\nâ€¢ Masa check-out: *12:00 PM*\nâ€¢ Password pintu: *1270#*\nâ€¢ WiFi: *PelangiHostel*\nâ€¢ Alamat: Jalan Dato Haji Hassan, JB\n\nğŸ¥ Pertama kali? Tonton video panduan: https://youtu.be/bYj1M37xJiE\n\nPerlukan apa-apa lagi? Tanya sahaja! ğŸ˜Š",
              "zh": "âœ… ä¸€åˆ‡å°±ç»ªï¼ä»¥ä¸‹æ˜¯ä¸€äº›æœ‰ç”¨ä¿¡æ¯ï¼š\n\nğŸ“‹ *å¿«é€Ÿå‚è€ƒï¼š*\nâ€¢ å…¥ä½æ—¶é—´: *ä¸‹åˆ2:00*\nâ€¢ é€€æˆ¿æ—¶é—´: *ä¸­åˆ12:00*\nâ€¢ é—¨å¯†ç : *1270#*\nâ€¢ WiFi: *PelangiHostel*\nâ€¢ åœ°å€: Jalan Dato Haji Hassan, JB\n\nğŸ¥ ç¬¬ä¸€æ¬¡æ¥ï¼Ÿè§‚çœ‹è§†é¢‘æŒ‡å—: https://youtu.be/bYj1M37xJiE\n\nè¿˜éœ€è¦å…¶ä»–å¸®åŠ©å—ï¼Ÿéšæ—¶é—®æˆ‘ï¼ğŸ˜Š"
            }
          }
        }
      ]
    },
    {
      "id": "lower_deck_preference",
      "name": "Lower Deck Preference Check",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "I understand you prefer a lower deck capsule! ğŸ˜Š Lower decks (even-numbered capsules like C2, C4, C6, etc.) are very popular. Let me check availability for you.",
            "ms": "Saya faham anda prefer lower deck! ğŸ˜Š Lower deck (capsule nombor genap seperti C2, C4, C6, dll) sangat popular. Biar saya check untuk anda.",
            "zh": "æˆ‘æ˜ç™½æ‚¨æ›´å–œæ¬¢ä¸‹é“ºï¼ğŸ˜Š ä¸‹é“ºï¼ˆå¶æ•°ç¼–å·å¦‚ C2ã€C4ã€C6 ç­‰ï¼‰éå¸¸å—æ¬¢è¿ã€‚è®©æˆ‘ä¸ºæ‚¨æŸ¥è¯¢ã€‚"
          },
          "waitForReply": false,
          "action": {
            "type": "check_lower_deck"
          }
        },
        {
          "id": "s2",
          "message": {
            "en": "{{availabilityResult}}\n\nOnce you complete your payment, we can confirm your specific capsule assignment. Would you like to proceed with booking?",
            "ms": "{{availabilityResult}}\n\nSelepas anda buat pembayaran, kami boleh confirm capsule anda. Nak proceed booking?",
            "zh": "{{availabilityResult}}\n\nä»˜æ¬¾åï¼Œæˆ‘ä»¬å¯ä»¥ç¡®è®¤æ‚¨çš„å…·ä½“èƒ¶å›Šæˆ¿åˆ†é…ã€‚æ‚¨æƒ³ç»§ç»­é¢„è®¢å—ï¼Ÿ"
          },
          "waitForReply": true
        }
      ],
      "format": "nodes",
      "startNodeId": "lower_deck_info_msg",
      "nodes": [
        {
          "id": "lower_deck_info_msg",
          "type": "message",
          "label": "Lower deck info",
          "config": {
            "message": {
              "en": "I understand you prefer a lower deck capsule! ğŸ˜Š Lower decks (even-numbered capsules like C2, C4, C6, etc.) are very popular. Let me check availability for you.",
              "ms": "Saya faham anda prefer lower deck! ğŸ˜Š Lower deck (capsule nombor genap seperti C2, C4, C6, dll) sangat popular. Biar saya check untuk anda.",
              "zh": "æˆ‘æ˜ç™½æ‚¨æ›´å–œæ¬¢ä¸‹é“ºï¼ğŸ˜Š ä¸‹é“ºï¼ˆå¶æ•°ç¼–å·å¦‚ C2ã€C4ã€C6 ç­‰ï¼‰éå¸¸å—æ¬¢è¿ã€‚è®©æˆ‘ä¸ºæ‚¨æŸ¥è¯¢ã€‚"
            }
          },
          "next": "lower_deck_api_call"
        },
        {
          "id": "lower_deck_api_call",
          "type": "pelangi_api",
          "label": "Check capsule availability",
          "config": {
            "action": "check_lower_deck"
          },
          "next": "lower_deck_has_available"
        },
        {
          "id": "lower_deck_has_available",
          "type": "condition",
          "label": "Any lower deck available?",
          "config": {
            "field": "{{pelangi.lowerDeckCount}}",
            "operator": "gt",
            "value": 0,
            "trueNext": "lower_deck_available_msg",
            "falseNext": "lower_deck_unavailable_msg"
          }
        },
        {
          "id": "lower_deck_available_msg",
          "type": "message",
          "label": "Show available capsules",
          "config": {
            "message": {
              "en": "{{pelangi.availabilityResult}}\n\nWould you like to proceed with booking a lower deck capsule? Once you complete payment, we'll confirm your specific capsule assignment.",
              "ms": "{{pelangi.availabilityResult}}\n\nNak proceed booking lower deck? Selepas pembayaran, kami akan confirm capsule anda.",
              "zh": "{{pelangi.availabilityResult}}\n\næ‚¨æƒ³ç»§ç»­é¢„è®¢ä¸‹é“ºå—ï¼Ÿä»˜æ¬¾åæˆ‘ä»¬ä¼šç¡®è®¤æ‚¨çš„å…·ä½“èƒ¶å›Šæˆ¿åˆ†é…ã€‚"
            }
          },
          "next": "lower_deck_wait_proceed"
        },
        {
          "id": "lower_deck_unavailable_msg",
          "type": "message",
          "label": "No lower deck available",
          "config": {
            "message": {
              "en": "{{pelangi.availabilityResult}}\n\nOur upper deck capsules are just as comfortable and come with a bit more privacy! Would you like to book an upper deck capsule instead?",
              "ms": "{{pelangi.availabilityResult}}\n\nUpper deck kami sama selesa dan lebih privasi! Nak book upper deck?",
              "zh": "{{pelangi.availabilityResult}}\n\næˆ‘ä»¬çš„ä¸Šé“ºåŒæ ·èˆ’é€‚ï¼Œè€Œä¸”æ›´æœ‰éšç§ï¼æ‚¨æƒ³é¢„è®¢ä¸Šé“ºå—ï¼Ÿ"
            }
          },
          "next": "lower_deck_wait_proceed"
        },
        {
          "id": "lower_deck_wait_proceed",
          "type": "wait_reply",
          "label": "Ask to proceed with booking",
          "config": {
            "storeAs": "proceed_booking",
            "prompt": {
              "en": "Would you like to proceed with booking?",
              "ms": "Nak proceed booking?",
              "zh": "æ‚¨æƒ³ç»§ç»­é¢„è®¢å—ï¼Ÿ"
            }
          }
        }
      ]
    },
    {
      "id": "tourist_guide",
      "name": "Johor Bahru Tourist Guide",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "Wonderful! Johor Bahru has amazing attractions! ğŸ¡ğŸ–ï¸ Here are the TOP destinations near our hostel:\n\nğŸ¢ **LEGOLAND Malaysia** (25 mins drive) - Malaysia's first international theme park with thrilling rides!\n\nğŸ–ï¸ **Desaru Beach** (1 hour) - 25km of beautiful coastline perfect for swimming and water sports\n\nğŸ•Œ **Sultan Abu Bakar Mosque** (15 mins) - Stunning hilltop mosque with breathtaking views\n\nğŸ›ï¸ **Johor Bahru City Square** (10 mins) - Premier shopping and dining destination\n\nğŸŒŠ **Danga Bay** (20 mins) - Beachfront paradise with amazing sunset views and seafood\n\nğŸ¯ **Johor Zoo** (25 mins) - Newly renovated with diverse wildlife\n\nğŸ›ï¸ **Chinese Heritage Museum** (12 mins) - Learn about Chinese immigration history\n\nğŸ™ **Arulmigu Sri Rajakaliamman Glass Temple** (15 mins) - Spectacular glass Hindu temple\n\nğŸŒ For more info: https://pelangicapsule.local/\n\nWould you like specific directions or recommendations for any of these places?",
            "ms": "Hebat! Johor Bahru ada banyak tempat menarik! ğŸ¡ğŸ–ï¸ Ini tempat-tempat TOP dekat hostel kami:\n\nğŸ¢ **LEGOLAND Malaysia** (25 minit) - Taman tema antarabangsa pertama Malaysia!\n\nğŸ–ï¸ **Pantai Desaru** (1 jam) - 25km pantai cantik untuk berenang\n\nğŸ•Œ **Masjid Sultan Abu Bakar** (15 minit) - Masjid di atas bukit dengan pemandangan cantik\n\nğŸ›ï¸ **Johor Bahru City Square** (10 minit) - Pusat beli-belah utama\n\nğŸŒŠ **Danga Bay** (20 minit) - Pantai dengan sunset cantik dan makanan laut\n\nğŸ¯ **Zoo Johor** (25 minit) - Baru direnovasi dengan pelbagai haiwan\n\nğŸ›ï¸ **Muzium Warisan Cina** (12 minit) - Sejarah imigrasi Cina\n\nğŸ™ **Kuil Kaca Sri Rajakaliamman** (15 minit) - Kuil Hindu kaca yang cantik\n\nğŸŒ Maklumat lanjut: https://pelangicapsule.local/\n\nNak direction atau cadangan untuk mana-mana tempat ini?",
            "zh": "å¤ªå¥½äº†ï¼æ–°å±±æœ‰å¾ˆå¤šç²¾å½©æ™¯ç‚¹ï¼ğŸ¡ğŸ–ï¸ ä»¥ä¸‹æ˜¯æˆ‘ä»¬æ—…èˆé™„è¿‘çš„çƒ­é—¨ç›®çš„åœ°ï¼š\n\nğŸ¢ **ä¹é«˜ä¹å›­** (25åˆ†é’Ÿè½¦ç¨‹) - é©¬æ¥è¥¿äºšç¬¬ä¸€ä¸ªå›½é™…ä¸»é¢˜å…¬å›­ï¼\n\nğŸ–ï¸ **è¿ªæ²™é²æµ·æ»©** (1å°æ—¶) - 25å…¬é‡Œç¾ä¸½æµ·å²¸çº¿ï¼Œé€‚åˆæ¸¸æ³³å’Œæ°´ä¸Šè¿åŠ¨\n\nğŸ•Œ **è‹ä¸¹é˜¿å¸ƒå³‡å¡æ¸…çœŸå¯º** (15åˆ†é’Ÿ) - å±±é¡¶æ¸…çœŸå¯ºï¼Œæ™¯è‰²å£®è§‚\n\nğŸ›ï¸ **æ–°å±±åŸå¸‚å¹¿åœº** (10åˆ†é’Ÿ) - é¡¶çº§è´­ç‰©å’Œé¤é¥®ç›®çš„åœ°\n\nğŸŒŠ **ä¸¹åŠ æ¹¾** (20åˆ†é’Ÿ) - æµ·æ»¨å¤©å ‚ï¼Œæ—¥è½ç¾æ™¯å’Œæµ·é²œç¾é£Ÿ\n\nğŸ¯ **æ–°å±±åŠ¨ç‰©å›­** (25åˆ†é’Ÿ) - æ–°è£…ä¿®ï¼Œå„ç§é‡ç”ŸåŠ¨ç‰©\n\nğŸ›ï¸ **åäººæ–‡ç‰©é¦†** (12åˆ†é’Ÿ) - äº†è§£åäººç§»æ°‘å†å²\n\nğŸ™ **ç»ç’ƒå…´éƒ½åº™** (15åˆ†é’Ÿ) - å£®è§‚çš„ç»ç’ƒå…´éƒ½åº™\n\nğŸŒ æ›´å¤šä¿¡æ¯: https://pelangicapsule.local/\n\néœ€è¦è¿™äº›åœ°æ–¹çš„å…·ä½“è·¯çº¿æˆ–æ¨èå—ï¼Ÿ"
          },
          "waitForReply": true
        },
        {
          "id": "s2",
          "message": {
            "en": "Great choice! ğŸš— Here's how to get there from our hostel:\n\nThe easiest way is to grab a **Grab ride** (Malaysia's ride-hailing app) directly from our hostel. Just enter the destination and you'll be on your way!\n\nğŸ“ You can also search on **Google Maps** from our address: *Jalan Dato Haji Hassan, Johor Bahru*\n\nğŸšŒ Public transport options are also available â€” our staff can help you with bus routes.\n\nğŸ’¡ **Pro tip:** Ask our front desk for the latest transport advice and any discount deals for popular attractions!\n\nWould you like help with anything else? ğŸ˜Š",
            "ms": "Pilihan bagus! ğŸš— Ini cara ke sana dari hostel kami:\n\nCara paling mudah ialah guna **Grab** terus dari hostel kami. Masukkan destinasi dan anda boleh bergerak!\n\nğŸ“ Boleh juga cari di **Google Maps** dari alamat kami: *Jalan Dato Haji Hassan, Johor Bahru*\n\nğŸšŒ Pengangkutan awam juga ada â€” staf kami boleh bantu dengan laluan bas.\n\nğŸ’¡ **Tip:** Tanya kaunter depan untuk nasihat transport terkini dan diskaun untuk tempat popular!\n\nNak bantuan lain? ğŸ˜Š",
            "zh": "å¥½é€‰æ‹©ï¼ğŸš— ä»æˆ‘ä»¬æ—…èˆå‡ºå‘çš„è·¯çº¿ï¼š\n\næœ€ç®€å•çš„æ–¹å¼æ˜¯ä»æ—…èˆç›´æ¥å«ä¸€è¾† **Grab**ï¼ˆé©¬æ¥è¥¿äºšæ‰“è½¦è½¯ä»¶ï¼‰ã€‚è¾“å…¥ç›®çš„åœ°å°±å¯ä»¥å‡ºå‘ï¼\n\nğŸ“ ä¹Ÿå¯ä»¥åœ¨ **Google Maps** ä¸Šæœç´¢ï¼Œä»æˆ‘ä»¬çš„åœ°å€å‡ºå‘ï¼š*Jalan Dato Haji Hassan, Johor Bahru*\n\nğŸšŒ ä¹Ÿæœ‰å…¬å…±äº¤é€šé€‰æ‹© â€” æˆ‘ä»¬çš„å·¥ä½œäººå‘˜å¯ä»¥å¸®æ‚¨äº†è§£å·´å£«è·¯çº¿ã€‚\n\nğŸ’¡ **å°è´´å£«ï¼š** é—®å‰å°è·å–æœ€æ–°äº¤é€šå»ºè®®å’Œçƒ­é—¨æ™¯ç‚¹æŠ˜æ‰£ï¼\n\néœ€è¦å…¶ä»–å¸®åŠ©å—ï¼ŸğŸ˜Š"
          },
          "waitForReply": false
        }
      ],
      "format": "nodes",
      "startNodeId": "tourist_attractions_msg",
      "nodes": [
        {
          "id": "tourist_attractions_msg",
          "type": "message",
          "label": "Attraction recommendations",
          "config": {
            "message": {
              "en": "Wonderful! Johor Bahru has amazing attractions! ğŸ¡ğŸ–ï¸ Here are the TOP destinations near our hostel:\n\nğŸ¢ **LEGOLAND Malaysia** (25 mins drive)\nğŸ–ï¸ **Desaru Beach** (1 hour)\nğŸ•Œ **Sultan Abu Bakar Mosque** (15 mins)\nğŸ›ï¸ **Johor Bahru City Square** (10 mins)\nğŸŒŠ **Danga Bay** (20 mins)\nğŸ¯ **Johor Zoo** (25 mins)\nğŸ›ï¸ **Chinese Heritage Museum** (12 mins)\nğŸ™ **Glass Temple** (15 mins)\n\nğŸŒ More info: https://pelangicapsule.local/\n\nWould you like specific directions or recommendations?",
              "ms": "Hebat! Johor Bahru ada banyak tempat menarik! ğŸ¡ğŸ–ï¸ Ini tempat-tempat TOP dekat hostel kami:\n\nğŸ¢ **LEGOLAND Malaysia** (25 minit)\nğŸ–ï¸ **Pantai Desaru** (1 jam)\nğŸ•Œ **Masjid Sultan Abu Bakar** (15 minit)\nğŸ›ï¸ **Johor Bahru City Square** (10 minit)\nğŸŒŠ **Danga Bay** (20 minit)\nğŸ¯ **Zoo Johor** (25 minit)\nğŸ›ï¸ **Muzium Warisan Cina** (12 minit)\nğŸ™ **Kuil Kaca** (15 minit)\n\nğŸŒ Maklumat lanjut: https://pelangicapsule.local/\n\nNak direction atau cadangan?",
              "zh": "å¤ªå¥½äº†ï¼æ–°å±±æœ‰å¾ˆå¤šç²¾å½©æ™¯ç‚¹ï¼ğŸ¡ğŸ–ï¸ ä»¥ä¸‹æ˜¯æˆ‘ä»¬æ—…èˆé™„è¿‘çš„çƒ­é—¨ç›®çš„åœ°ï¼š\n\nğŸ¢ **ä¹é«˜ä¹å›­** (25åˆ†é’Ÿè½¦ç¨‹)\nğŸ–ï¸ **è¿ªæ²™é²æµ·æ»©** (1å°æ—¶)\nğŸ•Œ **è‹ä¸¹é˜¿å¸ƒå³‡å¡æ¸…çœŸå¯º** (15åˆ†é’Ÿ)\nğŸ›ï¸ **æ–°å±±åŸå¸‚å¹¿åœº** (10åˆ†é’Ÿ)\nğŸŒŠ **ä¸¹åŠ æ¹¾** (20åˆ†é’Ÿ)\nğŸ¯ **æ–°å±±åŠ¨ç‰©å›­** (25åˆ†é’Ÿ)\nğŸ›ï¸ **åäººæ–‡ç‰©é¦†** (12åˆ†é’Ÿ)\nğŸ™ **ç»ç’ƒå…´éƒ½åº™** (15åˆ†é’Ÿ)\n\nğŸŒ æ›´å¤šä¿¡æ¯: https://pelangicapsule.local/\n\néœ€è¦å…·ä½“è·¯çº¿æˆ–æ¨èå—ï¼Ÿ"
            }
          },
          "next": "tourist_wait_choice"
        },
        {
          "id": "tourist_wait_choice",
          "type": "wait_reply",
          "label": "Wait for direction request",
          "config": {
            "storeAs": "attraction_choice",
            "prompt": {
              "en": "Which attraction would you like directions or more info about?",
              "ms": "Tempat mana yang anda nak direction atau maklumat lanjut?",
              "zh": "æ‚¨æƒ³äº†è§£å“ªä¸ªæ™¯ç‚¹çš„è·¯çº¿æˆ–æ›´å¤šä¿¡æ¯ï¼Ÿ"
            }
          },
          "next": "tourist_transport_msg"
        },
        {
          "id": "tourist_transport_msg",
          "type": "message",
          "label": "Transport info",
          "config": {
            "message": {
              "en": "Great choice! ğŸš— The easiest way is to grab a **Grab ride** directly from our hostel. Just enter the destination!\n\nğŸ“ Search on **Google Maps** from: *Jalan Dato Haji Hassan, Johor Bahru*\nğŸšŒ Public transport also available â€” ask our front desk!\n\nğŸ’¡ **Pro tip:** Ask our front desk for discount deals on popular attractions!\n\nNeed anything else? ğŸ˜Š",
              "ms": "Pilihan bagus! ğŸš— Cara paling mudah ialah guna **Grab** terus dari hostel kami. Masukkan destinasi!\n\nğŸ“ Cari di **Google Maps** dari: *Jalan Dato Haji Hassan, Johor Bahru*\nğŸšŒ Pengangkutan awam juga ada â€” tanya kaunter depan!\n\nğŸ’¡ **Tip:** Tanya kaunter depan untuk diskaun tempat popular!\n\nNak bantuan lain? ğŸ˜Š",
              "zh": "å¥½é€‰æ‹©ï¼ğŸš— æœ€ç®€å•çš„æ–¹å¼æ˜¯ä»æ—…èˆç›´æ¥å« **Grab**ã€‚è¾“å…¥ç›®çš„åœ°å°±å¯ä»¥å‡ºå‘ï¼\n\nğŸ“ åœ¨ **Google Maps** æœç´¢ï¼š*Jalan Dato Haji Hassan, Johor Bahru*\nğŸšŒ ä¹Ÿæœ‰å…¬å…±äº¤é€š â€” é—®å‰å°ï¼\n\nğŸ’¡ **å°è´´å£«ï¼š** é—®å‰å°è·å–çƒ­é—¨æ™¯ç‚¹æŠ˜æ‰£ï¼\n\néœ€è¦å…¶ä»–å¸®åŠ©å—ï¼ŸğŸ˜Š"
            }
          }
        }
      ]
    },
    {
      "id": "complaint_handling",
      "name": "Complaint Resolution",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "We're truly sorry to hear about this. ğŸ˜” Your comfort is our top priority and we sincerely apologize for the inconvenience. We can arrange **maintenance**, **relocate** you to another capsule if needed, or provide immediate staff support. We will review the situation and if applicable, offer appropriate compensation such as a voucher. Could you please describe the issue in detail? (e.g., noise, cleanliness, facility problem)",
            "ms": "Kami amat minta maaf mendengar ini. ğŸ˜” Keselesaan anda keutamaan kami dan kami mohon maaf atas kesulitan. Kami boleh urus **penyelenggaraan**, **pindahkan** anda ke kapsul lain jika perlu, atau beri sokongan staf segera. Kami akan mengkaji semula situasi dan jika berkenaan, tawarkan pampasan seperti baucar. Boleh terangkan masalah dengan lebih terperinci? (contoh: bunyi bising, kebersihan, kemudahan)",
            "zh": "æˆ‘ä»¬çœŸè¯šåœ°ä¸ºæ­¤æ„Ÿåˆ°æŠ±æ­‰ã€‚ğŸ˜” æ‚¨çš„èˆ’é€‚æ˜¯æˆ‘ä»¬çš„é¦–è¦ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯¹ç»™æ‚¨å¸¦æ¥çš„ä¸ä¾¿æ·±è¡¨æ­‰æ„ã€‚æˆ‘ä»¬å¯ä»¥å®‰æ’**ç»´ä¿®**ã€å¦‚æœ‰éœ€è¦å¯ä»¥**æ¢æˆ¿**è‡³å¦ä¸€ä¸ªèƒ¶å›Šã€æˆ–æä¾›å³æ—¶å·¥ä½œäººå‘˜æ”¯æŒã€‚æˆ‘ä»¬å°†å®¡æŸ¥æƒ…å†µï¼Œå¦‚é€‚ç”¨å°†æä¾›é€‚å½“çš„è¡¥å¿ï¼Œä¾‹å¦‚ä¼˜æƒ åˆ¸ã€‚èƒ½å¦è¯¦ç»†æè¿°ä¸€ä¸‹é—®é¢˜ï¼Ÿï¼ˆä¾‹å¦‚ï¼šå™ªéŸ³ã€æ¸…æ´ã€è®¾æ–½é—®é¢˜ï¼‰"
          },
          "waitForReply": false
        },
        {
          "id": "s2",
          "message": {
            "en": "Could you please describe the issue in detail? (e.g., noise, cleanliness, facility problem, etc.)",
            "ms": "Boleh terangkan masalah dengan lebih terperinci? (contoh: bunyi bising, kebersihan, masalah kemudahan, dll)",
            "zh": "èƒ½å¦è¯¦ç»†æè¿°ä¸€ä¸‹é—®é¢˜ï¼Ÿï¼ˆä¾‹å¦‚ï¼šå™ªéŸ³ã€æ¸…æ´ã€è®¾æ–½é—®é¢˜ç­‰ï¼‰"
          },
          "waitForReply": true
        },
        {
          "id": "s3",
          "message": {
            "en": "Thank you for explaining. If possible, could you share a photo of the issue? This will help us address it more effectively.",
            "ms": "Terima kasih atas penjelasan. Jika boleh, boleh kongsi gambar masalah tersebut? Ini akan bantu kami selesaikan dengan lebih berkesan.",
            "zh": "æ„Ÿè°¢æ‚¨çš„è¯´æ˜ã€‚å¦‚æœå¯ä»¥ï¼Œèƒ½å¦åˆ†äº«é—®é¢˜çš„ç…§ç‰‡ï¼Ÿè¿™å°†å¸®åŠ©æˆ‘ä»¬æ›´æœ‰æ•ˆåœ°è§£å†³é—®é¢˜ã€‚"
          },
          "waitForReply": true
        },
        {
          "id": "s4",
          "message": {
            "en": "I'm escalating your complaint to our management team at +60127088789 with PRIORITY status right now...",
            "ms": "Saya sedang forward aduan anda ke team pengurusan +60127088789 dengan status KEUTAMAAN sekarang...",
            "zh": "æˆ‘æ­£åœ¨å°†æ‚¨çš„æŠ•è¯‰ä»¥ä¼˜å…ˆçº§çŠ¶æ€ä¸ŠæŠ¥ç»™ç®¡ç†å›¢é˜Ÿ +60127088789..."
          },
          "waitForReply": false,
          "action": {
            "type": "send_to_staff",
            "params": {
              "urgency": "high"
            }
          }
        },
        {
          "id": "s5",
          "message": {
            "en": "âœ… Priority complaint sent to management staff (+60127088789). They will contact you shortly to resolve this. In the meantime, is there anything else I can help you with?",
            "ms": "âœ… Aduan keutamaan dihantar ke staff pengurusan (+60127088789). Mereka akan hubungi anda tidak lama lagi untuk selesaikan. Sementara itu, ada apa-apa lagi saya boleh bantu?",
            "zh": "âœ… ä¼˜å…ˆæŠ•è¯‰å·²å‘é€ç»™ç®¡ç†äººå‘˜ (+60127088789)ã€‚ä»–ä»¬ä¼šå°½å¿«ä¸æ‚¨è”ç³»è§£å†³ã€‚åŒæ—¶ï¼Œè¿˜æœ‰å…¶ä»–æˆ‘èƒ½å¸®æ‚¨çš„å—ï¼Ÿ"
          },
          "waitForReply": true
        }
      ],
      "format": "nodes",
      "startNodeId": "complaint_apologize_msg",
      "nodes": [
        {
          "id": "complaint_apologize_msg",
          "type": "message",
          "label": "Apologize to guest",
          "config": {
            "message": {
              "en": "We're truly sorry to hear about this. ğŸ˜” Your comfort is our top priority and we sincerely apologize for the inconvenience. We can arrange maintenance, relocate you to another capsule, or provide immediate staff support.",
              "ms": "Kami amat minta maaf mendengar ini. ğŸ˜” Keselesaan anda keutamaan kami dan kami mohon maaf atas kesulitan. Kami boleh urus penyelenggaraan, pindahkan anda ke kapsul lain, atau beri sokongan staf segera.",
              "zh": "æˆ‘ä»¬çœŸè¯šåœ°ä¸ºæ­¤æ„Ÿåˆ°æŠ±æ­‰ã€‚ğŸ˜” æ‚¨çš„èˆ’é€‚æ˜¯æˆ‘ä»¬çš„é¦–è¦ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯¹ç»™æ‚¨å¸¦æ¥çš„ä¸ä¾¿æ·±è¡¨æ­‰æ„ã€‚æˆ‘ä»¬å¯ä»¥å®‰æ’ç»´ä¿®ã€æ¢æˆ¿æˆ–æä¾›å³æ—¶å·¥ä½œäººå‘˜æ”¯æŒã€‚"
            }
          },
          "next": "complaint_wait_details"
        },
        {
          "id": "complaint_wait_details",
          "type": "wait_reply",
          "label": "Ask complaint details",
          "config": {
            "storeAs": "complaint_details",
            "prompt": {
              "en": "Could you please describe the issue in detail? (e.g., noise, cleanliness, facility problem, etc.)",
              "ms": "Boleh terangkan masalah dengan lebih terperinci? (contoh: bunyi bising, kebersihan, masalah kemudahan, dll)",
              "zh": "èƒ½å¦è¯¦ç»†æè¿°ä¸€ä¸‹é—®é¢˜ï¼Ÿï¼ˆä¾‹å¦‚ï¼šå™ªéŸ³ã€æ¸…æ´ã€è®¾æ–½é—®é¢˜ç­‰ï¼‰"
            }
          },
          "next": "complaint_wait_photo"
        },
        {
          "id": "complaint_wait_photo",
          "type": "wait_reply",
          "label": "Ask for photo evidence",
          "config": {
            "storeAs": "complaint_photo",
            "prompt": {
              "en": "Thank you for explaining. If possible, could you share a photo of the issue? This will help us address it more effectively.",
              "ms": "Terima kasih atas penjelasan. Jika boleh, boleh kongsi gambar masalah tersebut? Ini akan bantu kami selesaikan dengan lebih berkesan.",
              "zh": "æ„Ÿè°¢æ‚¨çš„è¯´æ˜ã€‚å¦‚æœå¯ä»¥ï¼Œèƒ½å¦åˆ†äº«é—®é¢˜çš„ç…§ç‰‡ï¼Ÿè¿™å°†å¸®åŠ©æˆ‘ä»¬æ›´æœ‰æ•ˆåœ°è§£å†³é—®é¢˜ã€‚"
            }
          },
          "next": "complaint_escalating_msg"
        },
        {
          "id": "complaint_escalating_msg",
          "type": "message",
          "label": "Escalating notice",
          "config": {
            "message": {
              "en": "I'm escalating your complaint to our management team with PRIORITY status right now...",
              "ms": "Saya sedang forward aduan anda ke team pengurusan dengan status KEUTAMAAN sekarang...",
              "zh": "æˆ‘æ­£åœ¨å°†æ‚¨çš„æŠ•è¯‰ä»¥ä¼˜å…ˆçº§çŠ¶æ€ä¸ŠæŠ¥ç»™ç®¡ç†å›¢é˜Ÿ..."
            }
          },
          "next": "complaint_notify_admin"
        },
        {
          "id": "complaint_notify_admin",
          "type": "whatsapp_send",
          "label": "Notify admin about complaint",
          "config": {
            "receiver": "{{system.admin_phone}}",
            "content": {
              "en": "âš ï¸ *PRIORITY Complaint*\nGuest: {{guest.name}}\nPhone: {{guest.phone}}\nIssue: {{workflow.data.complaint_details}}\nPlease respond urgently.",
              "ms": "âš ï¸ *Aduan KEUTAMAAN*\nTetamu: {{guest.name}}\nTelefon: {{guest.phone}}\nMasalah: {{workflow.data.complaint_details}}\nSila respons segera.",
              "zh": "âš ï¸ *ä¼˜å…ˆæŠ•è¯‰*\nå®¢äººï¼š{{guest.name}}\nç”µè¯ï¼š{{guest.phone}}\né—®é¢˜ï¼š{{workflow.data.complaint_details}}\nè¯·ç´§æ€¥å›å¤ã€‚"
            },
            "urgency": "high"
          },
          "next": "complaint_confirm_msg"
        },
        {
          "id": "complaint_confirm_msg",
          "type": "message",
          "label": "Complaint sent confirmation",
          "config": {
            "message": {
              "en": "âœ… Priority complaint sent to management staff (+60127088789). They will contact you shortly to resolve this. In the meantime, is there anything else I can help you with?",
              "ms": "âœ… Aduan keutamaan dihantar ke staff pengurusan (+60127088789). Mereka akan hubungi anda tidak lama lagi untuk selesaikan. Sementara itu, ada apa-apa lagi saya boleh bantu?",
              "zh": "âœ… ä¼˜å…ˆæŠ•è¯‰å·²å‘é€ç»™ç®¡ç†äººå‘˜ (+60127088789)ã€‚ä»–ä»¬ä¼šå°½å¿«ä¸æ‚¨è”ç³»è§£å†³ã€‚åŒæ—¶ï¼Œè¿˜æœ‰å…¶ä»–æˆ‘èƒ½å¸®æ‚¨çš„å—ï¼Ÿ"
            }
          }
        }
      ]
    },
    {
      "id": "theft_emergency",
      "name": "Theft Case Handler",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "ğŸš¨ I'm very sorry to hear about this. We take **security** seriously. If items are missing from the **safe**, we'll treat this as a **report** and may need an **inspection**. We'll help you report the incident and involve security or police if needed. I'm taking immediate action and connecting you with our team.",
            "ms": "ğŸš¨ Saya sangat kesal mendengar ini. Kami mengambil **keselamatan** serius. Jika barang hilang dari **peti besi**, kami akan anggap ini sebagai **laporan** dan mungkin perlukan **pemeriksaan**. Kami akan bantu anda buat laporan dan libatkan pihak keselamatan/polis jika perlu. Saya ambil tindakan segera.",
            "zh": "ğŸš¨ å¾ˆæŠ±æ­‰å¬åˆ°è¿™ä»¶äº‹ã€‚æˆ‘ä»¬éå¸¸é‡è§†**å®‰å…¨**ã€‚å¦‚æœ**ä¿é™©ç®±**é‡Œçš„ç‰©å“ä¸è§äº†ï¼Œæˆ‘ä»¬ä¼šæŒ‰**æŠ¥å‘Š**å¤„ç†å¹¶å¯èƒ½å®‰æ’**æ£€æŸ¥**ã€‚æˆ‘ä»¬å°†ååŠ©æ‚¨æŠ¥æ¡ˆï¼Œå¿…è¦æ—¶è”ç³»å®‰ä¿æˆ–è­¦æ–¹ã€‚æˆ‘ç«‹å³é‡‡å–è¡ŒåŠ¨å¹¶ä¸ºæ‚¨è”ç³»æˆ‘ä»¬çš„å›¢é˜Ÿã€‚"
          },
          "waitForReply": false
        },
        {
          "id": "s2",
          "message": {
            "en": "What item(s) were stolen or missing? Please provide details (e.g., phone, wallet, laptop, jewelry, etc.)",
            "ms": "Barang apa yang telah dicuri? Sila beri butiran (contoh: telefon, dompet, laptop, dll)",
            "zh": "ä»€ä¹ˆç‰©å“è¢«ç›—äº†ï¼Ÿè¯·æä¾›è¯¦ç»†ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼šæ‰‹æœºã€é’±åŒ…ã€ç¬”è®°æœ¬ç”µè„‘ç­‰ï¼‰"
          },
          "waitForReply": true
        },
        {
          "id": "s3",
          "message": {
            "en": "When did you notice the theft? What time did this occur? (e.g., just now, 1 hour ago, this morning)",
            "ms": "Bila anda notice kecurian ini? Bila masa berlaku? (contoh: baru tadi, 1 jam lepas, pagi tadi)",
            "zh": "æ‚¨ä»€ä¹ˆæ—¶å€™noticeè¢«ç›—çš„ï¼Ÿæ˜¯ä»€ä¹ˆæ—¶é—´å‘ç”Ÿçš„ï¼Ÿï¼ˆä¾‹å¦‚ï¼šåˆšåˆšã€1å°æ—¶å‰ã€ä»Šå¤©æ—©ä¸Šï¼‰"
          },
          "waitForReply": true
        },
        {
          "id": "s4",
          "message": {
            "en": "Where did the theft occur? What location did this happen? (e.g., in capsule, bathroom, common area)",
            "ms": "Where berlaku kecurian? Di mana lokasi kejadian? (contoh: dalam capsule, bilik air, ruang bersama)",
            "zh": "ç›—çªƒoccuråœ¨å“ªé‡Œï¼Ÿåœ¨ä»€ä¹ˆlocationå‘ç”Ÿçš„ï¼Ÿï¼ˆä¾‹å¦‚ï¼šèƒ¶å›Šæˆ¿å†…ã€æµ´å®¤ã€å…¬å…±åŒºåŸŸï¼‰"
          },
          "waitForReply": true
        },
        {
          "id": "s5",
          "message": {
            "en": "ğŸš¨ **URGENT THEFT CASE** - Notifying our staff at +60127088789 right now...",
            "ms": "ğŸš¨ **KES KECURIAN SEGERA** - Memberitahu staff +60127088789 sekarang...",
            "zh": "ğŸš¨ **ç´§æ€¥ç›—çªƒæ¡ˆä»¶** - æ­£åœ¨ç«‹å³é€šçŸ¥å‘˜å·¥ +60127088789..."
          },
          "waitForReply": false,
          "action": {
            "type": "send_to_staff",
            "params": {
              "urgency": "critical"
            }
          }
        },
        {
          "id": "s6",
          "message": {
            "en": "âœ… Staff notified! They will:\n\n1ï¸âƒ£ Contact you immediately\n2ï¸âƒ£ Review CCTV footage\n3ï¸âƒ£ Assist with police report if needed\n4ï¸âƒ£ Investigate the incident thoroughly\n\nDo NOT disturb anything at the scene. Our staff will be with you shortly.\n\n{{policeGPS}}",
            "ms": "âœ… Staff diberitahu! Mereka akan:\n\n1ï¸âƒ£ Hubungi anda segera\n2ï¸âƒ£ Semak rakaman CCTV\n3ï¸âƒ£ Bantu buat laporan polis jika perlu\n4ï¸âƒ£ Siasat kes dengan teliti\n\nJANGAN ganggu apa-apa di tempat kejadian. Staff kami akan sampai tidak lama lagi.\n\n{{policeGPS}}",
            "zh": "âœ… å‘˜å·¥å·²é€šçŸ¥ï¼ä»–ä»¬å°†ï¼š\n\n1ï¸âƒ£ ç«‹å³è”ç³»æ‚¨\n2ï¸âƒ£ æŸ¥çœ‹ç›‘æ§å½•åƒ\n3ï¸âƒ£ å¦‚éœ€è¦ååŠ©æŠ¥è­¦\n4ï¸âƒ£ å½»åº•è°ƒæŸ¥æ­¤äº‹\n\nè¯·ä¸è¦è§¦ç¢°ç°åœºä»»ä½•ç‰©å“ã€‚æˆ‘ä»¬çš„å‘˜å·¥å¾ˆå¿«å°±ä¼šåˆ°ã€‚\n\n{{policeGPS}}"
          },
          "waitForReply": false,
          "action": {
            "type": "get_police_gps"
          }
        }
      ],
      "format": "nodes",
      "startNodeId": "theft_reassure_msg",
      "nodes": [
        {
          "id": "theft_reassure_msg",
          "type": "message",
          "label": "Reassure guest",
          "config": {
            "message": {
              "en": "ğŸš¨ I'm very sorry to hear about this. We take security very seriously. I'm taking immediate action and connecting you with our team.",
              "ms": "ğŸš¨ Saya sangat kesal mendengar ini. Kami mengambil keselamatan serius. Saya ambil tindakan segera.",
              "zh": "ğŸš¨ å¾ˆæŠ±æ­‰å¬åˆ°è¿™ä»¶äº‹ã€‚æˆ‘ä»¬éå¸¸é‡è§†å®‰å…¨ã€‚æˆ‘ç«‹å³é‡‡å–è¡ŒåŠ¨å¹¶ä¸ºæ‚¨è”ç³»æˆ‘ä»¬çš„å›¢é˜Ÿã€‚"
            }
          },
          "next": "theft_wait_items"
        },
        {
          "id": "theft_wait_items",
          "type": "wait_reply",
          "label": "Ask stolen items",
          "config": {
            "storeAs": "stolen_items",
            "prompt": {
              "en": "What item(s) were stolen or missing? Please provide details (e.g., phone, wallet, laptop, jewelry, etc.)",
              "ms": "Barang apa yang telah dicuri? Sila beri butiran (contoh: telefon, dompet, laptop, dll)",
              "zh": "ä»€ä¹ˆç‰©å“è¢«ç›—äº†ï¼Ÿè¯·æä¾›è¯¦ç»†ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼šæ‰‹æœºã€é’±åŒ…ã€ç¬”è®°æœ¬ç”µè„‘ç­‰ï¼‰"
            }
          },
          "next": "theft_wait_time"
        },
        {
          "id": "theft_wait_time",
          "type": "wait_reply",
          "label": "Ask time of theft",
          "config": {
            "storeAs": "theft_time",
            "prompt": {
              "en": "When did you notice the theft? (e.g., just now, 1 hour ago, this morning)",
              "ms": "Bila anda notice kecurian ini? (contoh: baru tadi, 1 jam lepas, pagi tadi)",
              "zh": "æ‚¨ä»€ä¹ˆæ—¶å€™å‘ç°è¢«ç›—çš„ï¼Ÿï¼ˆä¾‹å¦‚ï¼šåˆšåˆšã€1å°æ—¶å‰ã€ä»Šå¤©æ—©ä¸Šï¼‰"
            }
          },
          "next": "theft_wait_location"
        },
        {
          "id": "theft_wait_location",
          "type": "wait_reply",
          "label": "Ask location of theft",
          "config": {
            "storeAs": "theft_location",
            "prompt": {
              "en": "Where did the theft occur? (e.g., in capsule, bathroom, common area)",
              "ms": "Di mana lokasi kejadian? (contoh: dalam capsule, bilik air, ruang bersama)",
              "zh": "åœ¨ä»€ä¹ˆåœ°æ–¹å‘ç”Ÿçš„ï¼Ÿï¼ˆä¾‹å¦‚ï¼šèƒ¶å›Šæˆ¿å†…ã€æµ´å®¤ã€å…¬å…±åŒºåŸŸï¼‰"
            }
          },
          "next": "theft_urgent_msg"
        },
        {
          "id": "theft_urgent_msg",
          "type": "message",
          "label": "Urgent notification notice",
          "config": {
            "message": {
              "en": "ğŸš¨ **URGENT THEFT CASE** - Notifying our staff right now...",
              "ms": "ğŸš¨ **KES KECURIAN SEGERA** - Memberitahu staff sekarang...",
              "zh": "ğŸš¨ **ç´§æ€¥ç›—çªƒæ¡ˆä»¶** - æ­£åœ¨ç«‹å³é€šçŸ¥å‘˜å·¥..."
            }
          },
          "next": "theft_notify_admin"
        },
        {
          "id": "theft_notify_admin",
          "type": "whatsapp_send",
          "label": "URGENT notify admin about theft",
          "config": {
            "receiver": "{{system.admin_phone}}",
            "content": {
              "en": "ğŸš¨ *URGENT THEFT CASE*\nGuest: {{guest.name}}\nPhone: {{guest.phone}}\nItems: {{workflow.data.stolen_items}}\nTime: {{workflow.data.theft_time}}\nLocation: {{workflow.data.theft_location}}\nIMMediate response required!",
              "ms": "ğŸš¨ *KES KECURIAN SEGERA*\nTetamu: {{guest.name}}\nTelefon: {{guest.phone}}\nBarang: {{workflow.data.stolen_items}}\nMasa: {{workflow.data.theft_time}}\nLokasi: {{workflow.data.theft_location}}\nRespon segera diperlukan!",
              "zh": "ğŸš¨ *ç´§æ€¥ç›—çªƒæ¡ˆä»¶*\nå®¢äººï¼š{{guest.name}}\nç”µè¯ï¼š{{guest.phone}}\nç‰©å“ï¼š{{workflow.data.stolen_items}}\næ—¶é—´ï¼š{{workflow.data.theft_time}}\nåœ°ç‚¹ï¼š{{workflow.data.theft_location}}\néœ€è¦ç«‹å³å“åº”ï¼"
            },
            "urgency": "critical"
          },
          "next": "theft_next_steps_msg"
        },
        {
          "id": "theft_next_steps_msg",
          "type": "message",
          "label": "Next steps for guest",
          "config": {
            "message": {
              "en": "âœ… Staff notified! They will:\n\n1ï¸âƒ£ Contact you immediately\n2ï¸âƒ£ Review CCTV footage\n3ï¸âƒ£ Assist with police report if needed\n4ï¸âƒ£ Investigate the incident thoroughly\n\nDo NOT disturb anything at the scene. Our staff will be with you shortly.",
              "ms": "âœ… Staff diberitahu! Mereka akan:\n\n1ï¸âƒ£ Hubungi anda segera\n2ï¸âƒ£ Semak rakaman CCTV\n3ï¸âƒ£ Bantu buat laporan polis jika perlu\n4ï¸âƒ£ Siasat kes dengan teliti\n\nJANGAN ganggu apa-apa di tempat kejadian. Staff kami akan sampai tidak lama lagi.",
              "zh": "âœ… å‘˜å·¥å·²é€šçŸ¥ï¼ä»–ä»¬å°†ï¼š\n\n1ï¸âƒ£ ç«‹å³è”ç³»æ‚¨\n2ï¸âƒ£ æŸ¥çœ‹ç›‘æ§å½•åƒ\n3ï¸âƒ£ å¦‚éœ€è¦ååŠ©æŠ¥è­¦\n4ï¸âƒ£ å½»åº•è°ƒæŸ¥æ­¤äº‹\n\nè¯·ä¸è¦è§¦ç¢°ç°åœºä»»ä½•ç‰©å“ã€‚æˆ‘ä»¬çš„å‘˜å·¥å¾ˆå¿«å°±ä¼šåˆ°ã€‚"
            }
          }
        }
      ]
    },
    {
      "id": "card_locked_troubleshoot",
      "name": "Card Locked Inside Capsule",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "Oh no! Don't worry, this happens occasionally and we can solve it quickly. ğŸ˜Š Let me guide you through the emergency steps:\n\n**Quick Solution Steps:**\n\n1ï¸âƒ£ Check if the capsule door has a small emergency release mechanism (usually a small button or latch on the inside)\n\n2ï¸âƒ£ Try gently pushing/pulling the door while turning the handle\n\n3ï¸âƒ£ Some capsules have a secondary manual release - look for a small lever near the lock\n\nAre you able to see any of these mechanisms?",
            "ms": "Oh tidak! Jangan risau, ini kadang-kadang berlaku dan kami boleh selesaikan dengan cepat. ğŸ˜Š Biar saya guide anda melalui langkah emergency:\n\n**Langkah Penyelesaian Pantas:**\n\n1ï¸âƒ£ Check jika pintu capsule ada mekanisme emergency release (biasanya butang kecil atau selak di bahagian dalam)\n\n2ï¸âƒ£ Cuba tolak/tarik pintu perlahan-lahan sambil pusing handle\n\n3ï¸âƒ£ Sesetengah capsule ada manual release kedua - cari tuas kecil dekat lock\n\nNampak mana-mana mekanisme ini?",
            "zh": "å“¦ä¸ï¼åˆ«æ‹…å¿ƒï¼Œè¿™ç§æƒ…å†µå¶å°”ä¼šå‘ç”Ÿï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè§£å†³ã€‚ğŸ˜Š è®©æˆ‘æŒ‡å¯¼æ‚¨ç´§æ€¥å¤„ç†æ­¥éª¤ï¼š\n\n**å¿«é€Ÿè§£å†³æ­¥éª¤ï¼š**\n\n1ï¸âƒ£ æ£€æŸ¥èƒ¶å›Šé—¨æ˜¯å¦æœ‰å°çš„ç´§æ€¥é‡Šæ”¾è£…ç½®ï¼ˆé€šå¸¸æ˜¯å†…ä¾§çš„å°æŒ‰é’®æˆ–é—©é”ï¼‰\n\n2ï¸âƒ£ å°è¯•åœ¨è½¬åŠ¨æŠŠæ‰‹çš„åŒæ—¶è½»è½»æ¨æ‹‰é—¨\n\n3ï¸âƒ£ æœ‰äº›èƒ¶å›Šæœ‰ç¬¬äºŒä¸ªæ‰‹åŠ¨é‡Šæ”¾è£…ç½® - åœ¨é”é™„è¿‘å¯»æ‰¾å°æ æ†\n\næ‚¨èƒ½çœ‹åˆ°è¿™äº›è£…ç½®å—ï¼Ÿ"
          },
          "waitForReply": true
        },
        {
          "id": "s2",
          "message": {
            "en": "No problem! I'm contacting our staff at +60127088789 RIGHT NOW to help you...",
            "ms": "Tiada masalah! Saya contact staff +60127088789 SEKARANG untuk bantu anda...",
            "zh": "æ²¡é—®é¢˜ï¼æˆ‘ç°åœ¨ç«‹å³è”ç³»å‘˜å·¥ +60127088789 æ¥å¸®åŠ©æ‚¨..."
          },
          "waitForReply": false,
          "action": {
            "type": "send_to_staff",
            "params": {
              "urgency": "high"
            }
          }
        },
        {
          "id": "s3",
          "message": {
            "en": "âœ… Staff notified! They have master access and will arrive shortly. Meanwhile:\n\nâœ… Stay calm and comfortable inside\nâœ… Keep your phone with you\nâœ… The capsule has ventilation, so you're safe\n\nIs there anything you need while waiting?",
            "ms": "âœ… Staff diberitahu! Mereka ada master access dan akan sampai tidak lama lagi. Sementara itu:\n\nâœ… Stay calm dan selesa dalam capsule\nâœ… Simpan telefon dengan anda\nâœ… Capsule ada pengudaraan, jadi anda selamat\n\nAda apa-apa yang anda perlukan sambil tunggu?",
            "zh": "âœ… å‘˜å·¥å·²é€šçŸ¥ï¼ä»–ä»¬æœ‰ä¸»é’¥åŒ™ï¼Œä¼šå¾ˆå¿«åˆ°è¾¾ã€‚åŒæ—¶ï¼š\n\nâœ… ä¿æŒå†·é™å’Œèˆ’é€‚\nâœ… ä¿ç®¡å¥½æ‰‹æœº\nâœ… èƒ¶å›Šæˆ¿æœ‰é€šé£ï¼Œæ‰€ä»¥æ‚¨æ˜¯å®‰å…¨çš„\n\nç­‰å¾…æœŸé—´éœ€è¦ä»€ä¹ˆå—ï¼Ÿ"
          },
          "waitForReply": true
        }
      ],
      "format": "nodes",
      "startNodeId": "locked_instructions_msg",
      "nodes": [
        {
          "id": "locked_instructions_msg",
          "type": "message",
          "label": "Emergency instructions",
          "config": {
            "message": {
              "en": "Oh no! Don't worry, this happens occasionally and we can solve it quickly. ğŸ˜Š\n\n**Quick Solution Steps:**\n1ï¸âƒ£ Check if the capsule door has a small emergency release mechanism\n2ï¸âƒ£ Try gently pushing/pulling the door while turning the handle\n3ï¸âƒ£ Look for a small lever near the lock\n\nAre you able to see any of these mechanisms?",
              "ms": "Oh tidak! Jangan risau, ini kadang-kadang berlaku dan kami boleh selesaikan dengan cepat. ğŸ˜Š\n\n**Langkah Penyelesaian Pantas:**\n1ï¸âƒ£ Check jika pintu capsule ada mekanisme emergency release\n2ï¸âƒ£ Cuba tolak/tarik pintu perlahan-lahan sambil pusing handle\n3ï¸âƒ£ Cari tuas kecil dekat lock\n\nNampak mana-mana mekanisme ini?",
              "zh": "å“¦ä¸ï¼åˆ«æ‹…å¿ƒï¼Œè¿™ç§æƒ…å†µå¶å°”ä¼šå‘ç”Ÿï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè§£å†³ã€‚ğŸ˜Š\n\n**å¿«é€Ÿè§£å†³æ­¥éª¤ï¼š**\n1ï¸âƒ£ æ£€æŸ¥èƒ¶å›Šé—¨æ˜¯å¦æœ‰ç´§æ€¥é‡Šæ”¾è£…ç½®\n2ï¸âƒ£ å°è¯•åœ¨è½¬åŠ¨æŠŠæ‰‹çš„åŒæ—¶è½»è½»æ¨æ‹‰é—¨\n3ï¸âƒ£ åœ¨é”é™„è¿‘å¯»æ‰¾å°æ æ†\n\næ‚¨èƒ½çœ‹åˆ°è¿™äº›è£…ç½®å—ï¼Ÿ"
            }
          },
          "next": "locked_wait_response"
        },
        {
          "id": "locked_wait_response",
          "type": "wait_reply",
          "label": "Wait for guest response",
          "config": {
            "storeAs": "lock_response",
            "prompt": {
              "en": "Were you able to find and use any of the emergency release mechanisms?",
              "ms": "Dapat jumpa dan guna mana-mana mekanisme emergency release?",
              "zh": "æ‚¨èƒ½æ‰¾åˆ°å¹¶ä½¿ç”¨è¿™äº›ç´§æ€¥é‡Šæ”¾è£…ç½®å—ï¼Ÿ"
            }
          },
          "next": "locked_contacting_msg"
        },
        {
          "id": "locked_contacting_msg",
          "type": "message",
          "label": "Contacting staff notice",
          "config": {
            "message": {
              "en": "No problem! I'm contacting our staff RIGHT NOW to help you...",
              "ms": "Tiada masalah! Saya contact staff SEKARANG untuk bantu anda...",
              "zh": "æ²¡é—®é¢˜ï¼æˆ‘ç°åœ¨ç«‹å³è”ç³»å‘˜å·¥æ¥å¸®åŠ©æ‚¨..."
            }
          },
          "next": "locked_notify_admin"
        },
        {
          "id": "locked_notify_admin",
          "type": "whatsapp_send",
          "label": "Notify admin about locked guest",
          "config": {
            "receiver": "{{system.admin_phone}}",
            "content": {
              "en": "âš ï¸ *Card Locked in Capsule*\nGuest: {{guest.name}}\nPhone: {{guest.phone}}\nGuest is locked â€” needs master key access. Please respond ASAP.",
              "ms": "âš ï¸ *Kad Terkunci dalam Kapsul*\nTetamu: {{guest.name}}\nTelefon: {{guest.phone}}\nTetamu terkunci â€” perlukan master key. Sila respons segera.",
              "zh": "âš ï¸ *å¡é”åœ¨èƒ¶å›Šå†…*\nå®¢äººï¼š{{guest.name}}\nç”µè¯ï¼š{{guest.phone}}\nå®¢äººè¢«é”ä½â€”â€”éœ€è¦ä¸»é’¥åŒ™ã€‚è¯·å°½å¿«å“åº”ã€‚"
            },
            "urgency": "high"
          },
          "next": "locked_reassure_msg"
        },
        {
          "id": "locked_reassure_msg",
          "type": "message",
          "label": "Reassure guest while waiting",
          "config": {
            "message": {
              "en": "âœ… Staff notified! They have master access and will arrive shortly. Meanwhile:\n\nâœ… Stay calm and comfortable inside\nâœ… Keep your phone with you\nâœ… The capsule has ventilation, so you're safe\n\nIs there anything you need while waiting?",
              "ms": "âœ… Staff diberitahu! Mereka ada master access dan akan sampai tidak lama lagi. Sementara itu:\n\nâœ… Stay calm dan selesa dalam capsule\nâœ… Simpan telefon dengan anda\nâœ… Capsule ada pengudaraan, jadi anda selamat\n\nAda apa-apa yang anda perlukan sambil tunggu?",
              "zh": "âœ… å‘˜å·¥å·²é€šçŸ¥ï¼ä»–ä»¬æœ‰ä¸»é’¥åŒ™ï¼Œä¼šå¾ˆå¿«åˆ°è¾¾ã€‚åŒæ—¶ï¼š\n\nâœ… ä¿æŒå†·é™å’Œèˆ’é€‚\nâœ… ä¿ç®¡å¥½æ‰‹æœº\nâœ… èƒ¶å›Šæˆ¿æœ‰é€šé£ï¼Œæ‰€ä»¥æ‚¨æ˜¯å®‰å…¨çš„\n\nç­‰å¾…æœŸé—´éœ€è¦ä»€ä¹ˆå—ï¼Ÿ"
            }
          }
        }
      ]
    },
    {
      "id": "escalate",
      "name": "Escalate to Staff",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "We will conduct a thorough review and investigation of your concern. For billing disputes, if an error is found during our investigation, we will process a refund. Let me connect you to our staff for immediate assistance...",
            "ms": "Kami akan menjalankan semakan dan penyiasatan menyeluruh terhadap kebimbangan anda. Untuk pertikaian bil, jika ralat ditemui semasa penyiasatan kami, kami akan proses bayaran balik. Biar saya hubungkan anda ke staf untuk bantuan segera...",
            "zh": "æˆ‘ä»¬å°†å¯¹æ‚¨çš„é—®é¢˜è¿›è¡Œå½»åº•çš„å®¡æŸ¥å’Œè°ƒæŸ¥ã€‚å¯¹äºè´¦å•äº‰è®®ï¼Œå¦‚æœåœ¨è°ƒæŸ¥ä¸­å‘ç°é”™è¯¯ï¼Œæˆ‘ä»¬å°†å¤„ç†é€€æ¬¾ã€‚è®©æˆ‘ä¸ºæ‚¨è½¬æ¥å·¥ä½œäººå‘˜ä»¥è·å¾—å³æ—¶ååŠ©..."
          },
          "waitForReply": false,
          "action": {
            "type": "escalate"
          }
        },
        {
          "id": "s2",
          "message": {
            "en": "âœ… Message sent to staff. They will review your case and contact you shortly to discuss the investigation findings.",
            "ms": "âœ… Mesej dihantar ke staf. Mereka akan kaji semula kes anda dan hubungi anda tidak lama lagi untuk membincangkan hasil penyiasatan.",
            "zh": "âœ… æ¶ˆæ¯å·²å‘é€ç»™å·¥ä½œäººå‘˜ã€‚ä»–ä»¬ä¼šå®¡æŸ¥æ‚¨çš„æ¡ˆä»¶å¹¶å°½å¿«è”ç³»æ‚¨è®¨è®ºè°ƒæŸ¥ç»“æœã€‚"
          },
          "waitForReply": false
        }
      ],
      "format": "nodes",
      "startNodeId": "escalate_msg",
      "nodes": [
        {
          "id": "escalate_msg",
          "type": "message",
          "label": "Escalation notice",
          "config": {
            "message": {
              "en": "We will conduct a thorough review and investigation of your concern. For billing disputes, if an error is found during our investigation, we will process a refund. Let me connect you to our staff for immediate assistance...",
              "ms": "Kami akan menjalankan semakan dan penyiasatan menyeluruh terhadap kebimbangan anda. Untuk pertikaian bil, jika ralat ditemui semasa penyiasatan kami, kami akan proses bayaran balik. Biar saya hubungkan anda ke staf untuk bantuan segera...",
              "zh": "æˆ‘ä»¬å°†å¯¹æ‚¨çš„é—®é¢˜è¿›è¡Œå½»åº•çš„å®¡æŸ¥å’Œè°ƒæŸ¥ã€‚å¯¹äºè´¦å•äº‰è®®ï¼Œå¦‚æœåœ¨è°ƒæŸ¥ä¸­å‘ç°é”™è¯¯ï¼Œæˆ‘ä»¬å°†å¤„ç†é€€æ¬¾ã€‚è®©æˆ‘ä¸ºæ‚¨è½¬æ¥å·¥ä½œäººå‘˜ä»¥è·å¾—å³æ—¶ååŠ©..."
            }
          },
          "next": "escalate_notify_admin"
        },
        {
          "id": "escalate_notify_admin",
          "type": "whatsapp_send",
          "label": "Notify admin for review",
          "config": {
            "receiver": "{{system.admin_phone}}",
            "content": {
              "en": "ğŸ“‹ *Escalation Request*\nGuest: {{guest.name}}\nPhone: {{guest.phone}}\nReason: Billing dispute / issue requiring staff review.\nPlease contact the guest.",
              "ms": "ğŸ“‹ *Permintaan Eskalasi*\nTetamu: {{guest.name}}\nTelefon: {{guest.phone}}\nSebab: Pertikaian bil / isu memerlukan semakan staf.\nSila hubungi tetamu.",
              "zh": "ğŸ“‹ *å‡çº§è¯·æ±‚*\nå®¢äººï¼š{{guest.name}}\nç”µè¯ï¼š{{guest.phone}}\nåŸå› ï¼šè´¦å•äº‰è®® / éœ€è¦å‘˜å·¥å®¡æ ¸çš„é—®é¢˜ã€‚\nè¯·è”ç³»å®¢äººã€‚"
            },
            "urgency": "normal"
          },
          "next": "escalate_confirm_msg"
        },
        {
          "id": "escalate_confirm_msg",
          "type": "message",
          "label": "Escalation confirmation",
          "config": {
            "message": {
              "en": "âœ… Message sent to staff. They will review your case and contact you shortly to discuss the investigation findings.",
              "ms": "âœ… Mesej dihantar ke staf. Mereka akan kaji semula kes anda dan hubungi anda tidak lama lagi untuk membincangkan hasil penyiasatan.",
              "zh": "âœ… æ¶ˆæ¯å·²å‘é€ç»™å·¥ä½œäººå‘˜ã€‚ä»–ä»¬ä¼šå®¡æŸ¥æ‚¨çš„æ¡ˆä»¶å¹¶å°½å¿«è”ç³»æ‚¨è®¨è®ºè°ƒæŸ¥ç»“æœã€‚"
            }
          }
        }
      ]
    },
    {
      "id": "forward_payment",
      "name": "Forward Payment",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "Thank you! I'll forward your payment receipt to our admin staff for verification. If you haven't sent a screenshot of the receipt yet, please do so and we'll confirm your booking shortly.",
            "ms": "Terima kasih! Saya akan forward resit pembayaran anda ke staf admin untuk pengesahan. Jika belum hantar screenshot resit, sila hantar dan kami akan sahkan tempahan anda tidak lama lagi.",
            "zh": "è°¢è°¢ï¼æˆ‘ä¼šå°†æ‚¨çš„ä»˜æ¬¾æ”¶æ®è½¬å‘ç»™ç®¡ç†å‘˜å·¥ä½œäººå‘˜è¿›è¡ŒéªŒè¯ã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰å‘é€æ”¶æ®æˆªå›¾ï¼Œè¯·å‘é€ï¼Œæˆ‘ä»¬ä¼šå°½å¿«ç¡®è®¤æ‚¨çš„é¢„è®¢ã€‚"
          },
          "waitForReply": false
        }
      ],
      "format": "nodes",
      "startNodeId": "payment_forward_msg",
      "nodes": [
        {
          "id": "payment_forward_msg",
          "type": "message",
          "label": "Payment forwarding notice",
          "config": {
            "message": {
              "en": "Thank you! I'll forward your payment receipt to our admin staff for verification. If you haven't sent a screenshot of the receipt yet, please do so and we'll confirm your booking shortly.",
              "ms": "Terima kasih! Saya akan forward resit pembayaran anda ke staf admin untuk pengesahan. Jika belum hantar screenshot resit, sila hantar dan kami akan sahkan tempahan anda tidak lama lagi.",
              "zh": "è°¢è°¢ï¼æˆ‘ä¼šå°†æ‚¨çš„ä»˜æ¬¾æ”¶æ®è½¬å‘ç»™ç®¡ç†å‘˜å·¥ä½œäººå‘˜è¿›è¡ŒéªŒè¯ã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰å‘é€æ”¶æ®æˆªå›¾ï¼Œè¯·å‘é€ï¼Œæˆ‘ä»¬ä¼šå°½å¿«ç¡®è®¤æ‚¨çš„é¢„è®¢ã€‚"
            }
          },
          "next": "payment_notify_admin"
        },
        {
          "id": "payment_notify_admin",
          "type": "whatsapp_send",
          "label": "Forward payment to admin",
          "config": {
            "receiver": "{{system.admin_phone}}",
            "content": {
              "en": "ğŸ’° *Payment Receipt Forwarded*\nGuest: {{guest.name}}\nPhone: {{guest.phone}}\nPayment receipt shared â€” please verify and confirm booking.",
              "ms": "ğŸ’° *Resit Pembayaran Diforward*\nTetamu: {{guest.name}}\nTelefon: {{guest.phone}}\nResit pembayaran dikongsi â€” sila sahkan dan confirm tempahan.",
              "zh": "ğŸ’° *ä»˜æ¬¾æ”¶æ®å·²è½¬å‘*\nå®¢äººï¼š{{guest.name}}\nç”µè¯ï¼š{{guest.phone}}\nå·²åˆ†äº«ä»˜æ¬¾æ”¶æ®â€”â€”è¯·æ ¸å®å¹¶ç¡®è®¤é¢„è®¢ã€‚"
            },
            "urgency": "normal"
          }
        }
      ]
    },
    {
      "id": "checkout_full",
      "name": "Guest Checkout Process",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "We're sorry to see you go! ğŸ˜Š I'll help you with checkout.\n\nWhat is your capsule number? (e.g., C5, C16, J3)",
            "ms": "Kami sedih anda hendak pergi! ğŸ˜Š Saya bantu anda checkout.\n\nApakah nombor capsule anda? (contoh: C5, C16, J3)",
            "zh": "å¾ˆé—æ†¾æ‚¨è¦ç¦»å¼€äº†ï¼ğŸ˜Š æˆ‘æ¥å¸®æ‚¨åŠç†é€€æˆ¿ã€‚\n\nè¯·é—®æ‚¨çš„èƒ¶å›Šå·æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆä¾‹å¦‚ï¼šC5ã€C16ã€J3ï¼‰"
          },
          "waitForReply": true
        },
        {
          "id": "s2",
          "message": {
            "en": "Thank you! Before you leave, please make sure:\n\nâœ… Collect all personal belongings from your capsule\nâœ… Check under the pillow and mattress\nâœ… Return the key card at the front desk\nâœ… Check the common areas (bathroom, lounge) for any items\n\nOnce you're ready, just say *done* and I'll complete your checkout! ğŸ‘",
            "ms": "Terima kasih! Sebelum anda pergi, sila pastikan:\n\nâœ… Kumpul semua barang peribadi dari capsule\nâœ… Check bawah bantal dan tilam\nâœ… Pulangkan kad kunci di kaunter depan\nâœ… Check kawasan umum (bilik air, lounge) untuk barang anda\n\nBila dah siap, cakap *done* dan saya akan selesaikan checkout anda! ğŸ‘",
            "zh": "è°¢è°¢ï¼ç¦»å¼€å‰è¯·ç¡®è®¤ï¼š\n\nâœ… æ”¶é›†èƒ¶å›Šæˆ¿å†…æ‰€æœ‰ä¸ªäººç‰©å“\nâœ… æ£€æŸ¥æ•å¤´å’ŒåºŠå«ä¸‹é¢\nâœ… åœ¨å‰å°å½’è¿˜é’¥åŒ™å¡\nâœ… æ£€æŸ¥å…¬å…±åŒºåŸŸï¼ˆæµ´å®¤ã€ä¼‘æ¯å®¤ï¼‰æ˜¯å¦æœ‰é—ç•™ç‰©å“\n\nå‡†å¤‡å¥½äº†å°±è¯´ *done*ï¼Œæˆ‘ä¼šå¸®æ‚¨å®Œæˆé€€æˆ¿ï¼ğŸ‘"
          },
          "waitForReply": true
        },
        {
          "id": "s3",
          "message": {
            "en": "Completing your checkout now... I'm notifying our admin about your departure. ğŸ“‹",
            "ms": "Sedang selesaikan checkout anda... Saya memberitahu admin tentang pemergian anda. ğŸ“‹",
            "zh": "æ­£åœ¨å®Œæˆæ‚¨çš„é€€æˆ¿...æˆ‘æ­£åœ¨é€šçŸ¥ç®¡ç†å‘˜æ‚¨çš„ç¦»å¼€ã€‚ğŸ“‹"
          },
          "waitForReply": false,
          "action": {
            "type": "send_to_staff",
            "params": {
              "urgency": "normal"
            }
          }
        },
        {
          "id": "s4",
          "message": {
            "en": "âœ… Checkout complete! Thank you for staying at Pelangi Capsule Hostel! ğŸŒˆ\n\nğŸ™ We'd love your feedback! Please leave us a review:\nğŸ“ Google: https://g.page/r/pelangi-capsule-hostel\n\nğŸ§³ *Luggage storage* is available if you need to leave bags (free, limited space).\n\nSafe travels and we hope to see you again! ğŸ˜Šâœ¨",
            "ms": "âœ… Checkout selesai! Terima kasih kerana menginap di Pelangi Capsule Hostel! ğŸŒˆ\n\nğŸ™ Kami hargai maklum balas anda! Sila tinggalkan review:\nğŸ“ Google: https://g.page/r/pelangi-capsule-hostel\n\nğŸ§³ *Simpanan bagasi* tersedia jika perlu simpan beg (percuma, ruang terhad).\n\nSelamat jalan dan harap jumpa lagi! ğŸ˜Šâœ¨",
            "zh": "âœ… é€€æˆ¿å®Œæˆï¼æ„Ÿè°¢æ‚¨å…¥ä½Pelangièƒ¶å›Šæ—…èˆï¼ğŸŒˆ\n\nğŸ™ æˆ‘ä»¬å¸Œæœ›å¬åˆ°æ‚¨çš„åé¦ˆï¼è¯·ç»™æˆ‘ä»¬ç•™ä¸‹è¯„ä»·ï¼š\nğŸ“ Google: https://g.page/r/pelangi-capsule-hostel\n\nğŸ§³ å¦‚éœ€å¯„å­˜è¡Œæï¼Œæˆ‘ä»¬æä¾› *è¡Œæå¯„å­˜* æœåŠ¡ï¼ˆå…è´¹ï¼Œç©ºé—´æœ‰é™ï¼‰ã€‚\n\næ—…é€”æ„‰å¿«ï¼Œå¸Œæœ›å†æ¬¡è§åˆ°æ‚¨ï¼ğŸ˜Šâœ¨"
          },
          "waitForReply": false
        }
      ],
      "format": "nodes",
      "startNodeId": "checkout_welcome_msg",
      "nodes": [
        {
          "id": "checkout_welcome_msg",
          "type": "message",
          "label": "Checkout greeting",
          "config": {
            "message": {
              "en": "We're sorry to see you go! ğŸ˜Š I'll help you with checkout.",
              "ms": "Kami sedih anda hendak pergi! ğŸ˜Š Saya bantu anda checkout.",
              "zh": "å¾ˆé—æ†¾æ‚¨è¦ç¦»å¼€äº†ï¼ğŸ˜Š æˆ‘æ¥å¸®æ‚¨åŠç†é€€æˆ¿ã€‚"
            }
          },
          "next": "checkout_wait_capsule"
        },
        {
          "id": "checkout_wait_capsule",
          "type": "wait_reply",
          "label": "Ask capsule number",
          "config": {
            "storeAs": "capsule_number",
            "prompt": {
              "en": "What is your capsule number? (e.g., C5, C16, J3)",
              "ms": "Apakah nombor capsule anda? (contoh: C5, C16, J3)",
              "zh": "è¯·é—®æ‚¨çš„èƒ¶å›Šå·æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆä¾‹å¦‚ï¼šC5ã€C16ã€J3ï¼‰"
            }
          },
          "next": "checkout_checklist_msg"
        },
        {
          "id": "checkout_checklist_msg",
          "type": "message",
          "label": "Checkout checklist",
          "config": {
            "message": {
              "en": "Thank you! Before you leave, please make sure:\n\nâœ… Collect all personal belongings from your capsule\nâœ… Check under the pillow and mattress\nâœ… Return the key card at the front desk\nâœ… Check the common areas (bathroom, lounge) for any items\n\nOnce you're ready, just say *done* and I'll complete your checkout! ğŸ‘",
              "ms": "Terima kasih! Sebelum anda pergi, sila pastikan:\n\nâœ… Kumpul semua barang peribadi dari capsule\nâœ… Check bawah bantal dan tilam\nâœ… Pulangkan kad kunci di kaunter depan\nâœ… Check kawasan umum (bilik air, lounge) untuk barang anda\n\nBila dah siap, cakap *done* dan saya akan selesaikan checkout anda! ğŸ‘",
              "zh": "è°¢è°¢ï¼ç¦»å¼€å‰è¯·ç¡®è®¤ï¼š\n\nâœ… æ”¶é›†èƒ¶å›Šæˆ¿å†…æ‰€æœ‰ä¸ªäººç‰©å“\nâœ… æ£€æŸ¥æ•å¤´å’ŒåºŠå«ä¸‹é¢\nâœ… åœ¨å‰å°å½’è¿˜é’¥åŒ™å¡\nâœ… æ£€æŸ¥å…¬å…±åŒºåŸŸï¼ˆæµ´å®¤ã€ä¼‘æ¯å®¤ï¼‰æ˜¯å¦æœ‰é—ç•™ç‰©å“\n\nå‡†å¤‡å¥½äº†å°±è¯´ *done*ï¼Œæˆ‘ä¼šå¸®æ‚¨å®Œæˆé€€æˆ¿ï¼ğŸ‘"
            }
          },
          "next": "checkout_wait_done"
        },
        {
          "id": "checkout_wait_done",
          "type": "wait_reply",
          "label": "Wait for done confirmation",
          "config": {
            "storeAs": "checkout_confirmation",
            "prompt": {
              "en": "Say *done* when you're ready to complete checkout.",
              "ms": "Cakap *done* bila dah siap untuk checkout.",
              "zh": "å‡†å¤‡å¥½é€€æˆ¿æ—¶è¯·è¯´ *done*ã€‚"
            }
          },
          "next": "checkout_processing_msg"
        },
        {
          "id": "checkout_processing_msg",
          "type": "message",
          "label": "Processing checkout",
          "config": {
            "message": {
              "en": "Completing your checkout now... I'm notifying our admin about your departure. ğŸ“‹",
              "ms": "Sedang selesaikan checkout anda... Saya memberitahu admin tentang pemergian anda. ğŸ“‹",
              "zh": "æ­£åœ¨å®Œæˆæ‚¨çš„é€€æˆ¿...æˆ‘æ­£åœ¨é€šçŸ¥ç®¡ç†å‘˜æ‚¨çš„ç¦»å¼€ã€‚ğŸ“‹"
            }
          },
          "next": "checkout_notify_admin"
        },
        {
          "id": "checkout_notify_admin",
          "type": "whatsapp_send",
          "label": "Notify admin about checkout",
          "config": {
            "receiver": "{{system.admin_phone}}",
            "content": {
              "en": "ğŸ“‹ *Guest Checkout*\nGuest: {{guest.name}}\nPhone: {{guest.phone}}\nCapsule: {{workflow.data.capsule_number}}\nGuest has checked out. Please prepare capsule for cleaning.",
              "ms": "ğŸ“‹ *Checkout Tetamu*\nTetamu: {{guest.name}}\nTelefon: {{guest.phone}}\nKapsul: {{workflow.data.capsule_number}}\nTetamu sudah checkout. Sila sediakan kapsul untuk pembersihan.",
              "zh": "ğŸ“‹ *å®¢äººé€€æˆ¿*\nå®¢äººï¼š{{guest.name}}\nç”µè¯ï¼š{{guest.phone}}\nèƒ¶å›Šæˆ¿ï¼š{{workflow.data.capsule_number}}\nå®¢äººå·²é€€æˆ¿ã€‚è¯·å‡†å¤‡æ¸…æ´èƒ¶å›Šæˆ¿ã€‚"
            },
            "urgency": "normal"
          },
          "next": "checkout_farewell_msg"
        },
        {
          "id": "checkout_farewell_msg",
          "type": "message",
          "label": "Farewell message",
          "config": {
            "message": {
              "en": "âœ… Checkout complete! Thank you for staying at Pelangi Capsule Hostel! ğŸŒˆ\n\nğŸ™ We'd love your feedback! Please leave us a review:\nğŸ“ Google: https://g.page/r/pelangi-capsule-hostel\n\nğŸ§³ *Luggage storage* is available if you need to leave bags (free, limited space).\n\nSafe travels and we hope to see you again! ğŸ˜Šâœ¨",
              "ms": "âœ… Checkout selesai! Terima kasih kerana menginap di Pelangi Capsule Hostel! ğŸŒˆ\n\nğŸ™ Kami hargai maklum balas anda! Sila tinggalkan review:\nğŸ“ Google: https://g.page/r/pelangi-capsule-hostel\n\nğŸ§³ *Simpanan bagasi* tersedia jika perlu simpan beg (percuma, ruang terhad).\n\nSelamat jalan dan harap jumpa lagi! ğŸ˜Šâœ¨",
              "zh": "âœ… é€€æˆ¿å®Œæˆï¼æ„Ÿè°¢æ‚¨å…¥ä½Pelangièƒ¶å›Šæ—…èˆï¼ğŸŒˆ\n\nğŸ™ æˆ‘ä»¬å¸Œæœ›å¬åˆ°æ‚¨çš„åé¦ˆï¼è¯·ç»™æˆ‘ä»¬ç•™ä¸‹è¯„ä»·ï¼š\nğŸ“ Google: https://g.page/r/pelangi-capsule-hostel\n\nğŸ§³ å¦‚éœ€å¯„å­˜è¡Œæï¼Œæˆ‘ä»¬æä¾› *è¡Œæå¯„å­˜* æœåŠ¡ï¼ˆå…è´¹ï¼Œç©ºé—´æœ‰é™ï¼‰ã€‚\n\næ—…é€”æ„‰å¿«ï¼Œå¸Œæœ›å†æ¬¡è§åˆ°æ‚¨ï¼ğŸ˜Šâœ¨"
            }
          }
        }
      ]
    },
    {
      "id": "amenity_request_handler",
      "name": "Extra Amenity Request Handler",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "Of course! We can provide extra towels, pillows, or blankets. Our on-site staff Maya will deliver them to your capsule. ğŸ§º",
            "ms": "Tentu! Kami boleh sediakan tuala, bantal, atau selimut tambahan. Staf kami Maya akan hantar ke kapsul anda. ğŸ§º",
            "zh": "å½“ç„¶å¯ä»¥ï¼æˆ‘ä»¬å¯ä»¥æä¾›é¢å¤–çš„æ¯›å·¾ã€æ•å¤´æˆ–æ¯¯å­ã€‚æˆ‘ä»¬çš„ç°åœºå·¥ä½œäººå‘˜Mayaä¼šé€åˆ°æ‚¨çš„èƒ¶å›Šæˆ¿ã€‚ğŸ§º"
          },
          "waitForReply": false
        },
        {
          "id": "s2",
          "message": {
            "en": "What items do you need? (e.g., towels, pillows, blankets, hangers, etc.)",
            "ms": "Anda perlukan barang apa? (contoh: tuala, bantal, selimut, penyangkut baju, dll)",
            "zh": "æ‚¨éœ€è¦ä»€ä¹ˆç‰©å“ï¼Ÿï¼ˆä¾‹å¦‚ï¼šæ¯›å·¾ã€æ•å¤´ã€æ¯¯å­ã€è¡£æ¶ç­‰ï¼‰"
          },
          "waitForReply": true
        },
        {
          "id": "s3",
          "message": {
            "en": "Great! I'm notifying Maya to deliver {{items}} to your capsule...",
            "ms": "Baik! Saya beritahu Maya untuk hantar {{items}} ke kapsul anda...",
            "zh": "å¥½çš„ï¼æˆ‘æ­£åœ¨é€šçŸ¥Mayaå°†{{items}}é€åˆ°æ‚¨çš„èƒ¶å›Šæˆ¿..."
          },
          "waitForReply": false,
          "action": {
            "type": "send_to_staff",
            "params": {
              "urgency": "normal"
            }
          }
        },
        {
          "id": "s4",
          "message": {
            "en": "âœ… Request forwarded to Maya (+60127088789). She will deliver the items shortly. Is there anything else you need?",
            "ms": "âœ… Permintaan dihantar ke Maya (+60127088789). Dia akan hantar barang tidak lama lagi. Ada apa-apa lagi yang diperlukan?",
            "zh": "âœ… è¯·æ±‚å·²è½¬å‘ç»™Mayaï¼ˆ+60127088789ï¼‰ã€‚å¥¹ä¼šå°½å¿«é€è¾¾ã€‚è¿˜éœ€è¦å…¶ä»–ä¸œè¥¿å—ï¼Ÿ"
          },
          "waitForReply": true
        }
      ],
      "format": "nodes",
      "startNodeId": "amenity_intro_msg",
      "nodes": [
        {
          "id": "amenity_intro_msg",
          "type": "message",
          "label": "Amenity offer",
          "config": {
            "message": {
              "en": "Of course! We can provide extra towels, pillows, or blankets. Our on-site staff Maya will deliver them to your capsule. ğŸ§º",
              "ms": "Tentu! Kami boleh sediakan tuala, bantal, atau selimut tambahan. Staf kami Maya akan hantar ke kapsul anda. ğŸ§º",
              "zh": "å½“ç„¶å¯ä»¥ï¼æˆ‘ä»¬å¯ä»¥æä¾›é¢å¤–çš„æ¯›å·¾ã€æ•å¤´æˆ–æ¯¯å­ã€‚æˆ‘ä»¬çš„ç°åœºå·¥ä½œäººå‘˜Mayaä¼šé€åˆ°æ‚¨çš„èƒ¶å›Šæˆ¿ã€‚ğŸ§º"
            }
          },
          "next": "amenity_wait_items"
        },
        {
          "id": "amenity_wait_items",
          "type": "wait_reply",
          "label": "Ask what items needed",
          "config": {
            "storeAs": "requested_items",
            "prompt": {
              "en": "What items do you need? (e.g., towels, pillows, blankets, hangers, etc.)",
              "ms": "Anda perlukan barang apa? (contoh: tuala, bantal, selimut, penyangkut baju, dll)",
              "zh": "æ‚¨éœ€è¦ä»€ä¹ˆç‰©å“ï¼Ÿï¼ˆä¾‹å¦‚ï¼šæ¯›å·¾ã€æ•å¤´ã€æ¯¯å­ã€è¡£æ¶ç­‰ï¼‰"
            }
          },
          "next": "amenity_delivering_msg"
        },
        {
          "id": "amenity_delivering_msg",
          "type": "message",
          "label": "Delivery notice",
          "config": {
            "message": {
              "en": "Great! I'm notifying our staff to deliver the items to your capsule...",
              "ms": "Baik! Saya beritahu staf untuk hantar barang ke kapsul anda...",
              "zh": "å¥½çš„ï¼æˆ‘æ­£åœ¨é€šçŸ¥å·¥ä½œäººå‘˜å°†ç‰©å“é€åˆ°æ‚¨çš„èƒ¶å›Šæˆ¿..."
            }
          },
          "next": "amenity_notify_staff"
        },
        {
          "id": "amenity_notify_staff",
          "type": "whatsapp_send",
          "label": "Notify housekeeping staff",
          "config": {
            "receiver": "{{system.admin_phone}}",
            "content": {
              "en": "ğŸ§º *Amenity Request*\nGuest: {{guest.name}}\nPhone: {{guest.phone}}\nItems requested: {{workflow.data.requested_items}}\nPlease deliver to guest's capsule.",
              "ms": "ğŸ§º *Permintaan Kemudahan*\nTetamu: {{guest.name}}\nTelefon: {{guest.phone}}\nBarang diperlukan: {{workflow.data.requested_items}}\nSila hantar ke kapsul tetamu.",
              "zh": "ğŸ§º *è®¾æ–½è¯·æ±‚*\nå®¢äººï¼š{{guest.name}}\nç”µè¯ï¼š{{guest.phone}}\nè¯·æ±‚ç‰©å“ï¼š{{workflow.data.requested_items}}\nè¯·é€è‡³å®¢äººèƒ¶å›Šæˆ¿ã€‚"
            },
            "urgency": "normal"
          },
          "next": "amenity_confirm_msg"
        },
        {
          "id": "amenity_confirm_msg",
          "type": "message",
          "label": "Request confirmation",
          "config": {
            "message": {
              "en": "âœ… Request forwarded to our staff. They will deliver the items shortly. Is there anything else you need?",
              "ms": "âœ… Permintaan dihantar ke staf kami. Mereka akan hantar barang tidak lama lagi. Ada apa-apa lagi yang diperlukan?",
              "zh": "âœ… è¯·æ±‚å·²è½¬å‘ç»™å·¥ä½œäººå‘˜ã€‚ä»–ä»¬ä¼šå°½å¿«é€è¾¾ã€‚è¿˜éœ€è¦å…¶ä»–ä¸œè¥¿å—ï¼Ÿ"
            }
          }
        }
      ]
    },
    {
      "id": "capsule_conflict_handling",
      "name": "Capsule Conflict Resolution",
      "description": "Handles cases where a guest finds someone already in their assigned capsule",
      "steps": [
        {
          "id": "s1",
          "message": {
            "en": "I'm sorry to hear someone is in your capsule! ğŸ˜Ÿ This is unusual and we'll sort it out right away. Could you tell me **which capsule number** you were assigned to?",
            "ms": "Maaf mendengar ada orang dalam kapsul anda! ğŸ˜Ÿ Ini tidak biasa dan kami akan selesaikan segera. Boleh beritahu **nombor kapsul** yang ditugaskan kepada anda?",
            "zh": "å¾ˆé—æ†¾å¬åˆ°æœ‰äººå äº†æ‚¨çš„èƒ¶å›Šï¼ğŸ˜Ÿ è¿™å¾ˆä¸å¯»å¸¸ï¼Œæˆ‘ä»¬ä¼šç«‹åˆ»å¤„ç†ã€‚èƒ½å‘Šè¯‰æˆ‘æ‚¨è¢«åˆ†é…çš„æ˜¯**å“ªä¸ªèƒ¶å›Šå·ç **å—ï¼Ÿ"
          },
          "waitForReply": true
        },
        {
          "id": "s2",
          "message": {
            "en": "Thank you. I'm immediately notifying our staff about the capsule conflict. ğŸ”” Please stay nearby and our team will assist you within a few minutes. They will verify the assignment and find a resolution â€” either by moving the other person or assigning you an alternative capsule.",
            "ms": "Terima kasih. Saya segera memaklumkan staf kami tentang konflik kapsul ini. ğŸ”” Sila berada berdekatan dan pasukan kami akan membantu anda dalam beberapa minit. Mereka akan mengesahkan penugasan dan mencari penyelesaian â€” sama ada dengan mengalihkan orang lain atau memberikan anda kapsul alternatif.",
            "zh": "è°¢è°¢ã€‚æˆ‘ç«‹å³é€šçŸ¥æˆ‘ä»¬çš„å·¥ä½œäººå‘˜å…³äºèƒ¶å›Šå†²çªçš„æƒ…å†µã€‚ğŸ”” è¯·æ‚¨ç•™åœ¨é™„è¿‘ï¼Œæˆ‘ä»¬çš„å›¢é˜Ÿå°†åœ¨å‡ åˆ†é’Ÿå†…ååŠ©æ‚¨ã€‚ä»–ä»¬å°†æ ¸å®åˆ†é…æƒ…å†µå¹¶æ‰¾åˆ°è§£å†³æ–¹æ¡ˆâ€”â€”è¦ä¹ˆè®©å¦ä¸€ä½ç§»ç¦»ï¼Œè¦ä¹ˆä¸ºæ‚¨å®‰æ’å¦ä¸€ä¸ªèƒ¶å›Šã€‚"
          },
          "waitForReply": false,
          "action": {
            "type": "notify_staff",
            "message": "ğŸš¨ CAPSULE CONFLICT: Guest reports someone already in their assigned capsule. Please check and resolve immediately."
          }
        },
        {
          "id": "s3",
          "message": {
            "en": "Our staff has been notified. ğŸ“£ While you wait, could you let me know: is the person in the capsule currently **awake** or **asleep**? This will help our team approach the situation appropriately.",
            "ms": "Staf kami telah diberitahu. ğŸ“£ Sementara menunggu, boleh beritahu saya: adakah orang dalam kapsul itu sedang **terjaga** atau **tidur**? Ini akan membantu pasukan kami mendekati situasi dengan sewajarnya.",
            "zh": "æˆ‘ä»¬çš„å·¥ä½œäººå‘˜å·²æ”¶åˆ°é€šçŸ¥ã€‚ğŸ“£ åœ¨ç­‰å¾…æœŸé—´ï¼Œèƒ½å‘Šè¯‰æˆ‘ï¼šèƒ¶å›Šé‡Œçš„äººç›®å‰æ˜¯**é†’ç€**è¿˜æ˜¯**ç¡ç€**äº†ï¼Ÿè¿™å°†å¸®åŠ©æˆ‘ä»¬çš„å›¢é˜Ÿä»¥é€‚å½“çš„æ–¹å¼å¤„ç†è¿™ç§æƒ…å†µã€‚"
          },
          "waitForReply": true
        },
        {
          "id": "s4",
          "message": {
            "en": "Understood. Our staff member is on the way to resolve this. I'll keep you informed. If you need immediate assistance, you can also call reception directly. We sincerely apologize for this inconvenience. ğŸ™",
            "ms": "Difahami. Staf kami sedang dalam perjalanan untuk menyelesaikan ini. Saya akan memaklumkan anda. Jika anda memerlukan bantuan segera, anda juga boleh menghubungi penerimaan secara langsung. Kami dengan tulus memohon maaf atas ketidakselesaan ini. ğŸ™",
            "zh": "æ˜ç™½äº†ã€‚æˆ‘ä»¬çš„å·¥ä½œäººå‘˜æ­£åœ¨èµ¶æ¥è§£å†³æ­¤äº‹ã€‚æˆ‘ä¼šåŠæ—¶é€šçŸ¥æ‚¨ã€‚å¦‚æœ‰éœ€è¦ç«‹å³å¸®åŠ©ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç›´æ¥è”ç³»å‰å°ã€‚æˆ‘ä»¬çœŸè¯šåœ°ä¸ºè¿™æ¬¡ä¸ä¾¿é“æ­‰ã€‚ğŸ™"
          },
          "waitForReply": false
        }
      ]
    }
  ]
}
