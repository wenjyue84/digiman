<!-- Dashboard Landing Page -->
<div class="mb-4">
  <h2 class="text-2xl font-bold text-neutral-800">Rainbow AI Dashboard</h2>
  <p class="text-sm text-neutral-500 mt-1">Welcome to your intelligent WhatsApp assistant control center</p>
</div>

<!-- Setup Checklist (Progressive Disclosure for New Users) -->
<div id="setup-checklist" class="mb-4 bg-gradient-to-r from-primary-50 to-success-50 rounded-2xl border border-primary-200 p-5">
  <div class="flex items-start justify-between mb-3">
    <div class="flex items-center gap-2">
      <span class="text-2xl">ðŸš€</span>
      <h3 class="font-semibold text-neutral-800">Quick Setup</h3>
    </div>
    <button onclick="dismissChecklist()" class="text-xs text-neutral-500 hover:text-neutral-700 px-2 py-1">Dismiss</button>
  </div>
  <div id="setup-items" class="space-y-2">
    <!-- Setup items will be dynamically populated -->
  </div>
</div>

<!-- Status Cards Grid -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
  <!-- WhatsApp Instances Status -->
  <div class="bg-white rounded-2xl border p-5">
    <div class="flex items-center justify-between mb-3">
      <div class="flex items-center gap-2">
        <span class="text-xl">ðŸ’¬</span>
        <h3 class="font-semibold text-neutral-700">WhatsApp Instances</h3>
      </div>
      <a href="/admin/whatsapp-qr" class="text-xs text-primary-500 hover:text-primary-600 font-medium">Pair QR â†’</a>
    </div>
    <div id="dashboard-wa-status" class="space-y-3">
      <!-- Loading state -->
      <div class="text-center py-4">
        <div class="inline-block animate-spin rounded-full h-6 w-6 border-3 border-primary-500 border-t-transparent"></div>
      </div>
    </div>
  </div>

  <!-- AI Provider Status -->
  <div class="bg-white rounded-2xl border p-5">
    <div class="flex items-center justify-between mb-3">
      <div class="flex items-center gap-2">
        <span class="text-xl">ðŸ¤–</span>
        <h3 class="font-semibold text-neutral-700">AI Providers</h3>
      </div>
      <div class="flex items-center gap-2">
        <button onclick="runDashboardProviderSpeedTest()" class="text-xs px-2 py-1 rounded border border-primary-200 text-primary-600 hover:bg-primary-50 font-medium" id="dashboard-ai-test-btn" title="Run a quick test for each provider and show response time">Test speed</button>
        <button onclick="loadTab('settings')" class="text-xs text-primary-500 hover:text-primary-600 font-medium">Settings â†’</button>
      </div>
    </div>
    <div id="dashboard-ai-status" class="space-y-2">
      <!-- Loading state -->
      <div class="text-center py-4">
        <div class="inline-block animate-spin rounded-full h-6 w-6 border-3 border-primary-500 border-t-transparent"></div>
      </div>
    </div>
  </div>
</div>

<!-- Quick Stats -->
<div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4">
  <div class="bg-white rounded-2xl border p-4 text-center">
    <div class="text-3xl mb-2">ðŸ’¬</div>
    <div id="dashboard-stat-messages" class="text-2xl font-bold text-neutral-800">-</div>
    <div class="text-xs text-neutral-500 mt-1">Messages Handled</div>
  </div>
  <div class="bg-white rounded-2xl border p-4 text-center">
    <div class="text-3xl mb-2">ðŸŽ¯</div>
    <div id="dashboard-stat-accuracy" class="text-2xl font-bold text-green-600">-</div>
    <div class="text-xs text-neutral-500 mt-1">Intent Accuracy</div>
  </div>
  <div class="bg-white rounded-2xl border p-4 text-center">
    <div class="text-3xl mb-2">âš¡</div>
    <div id="dashboard-stat-response" class="text-2xl font-bold text-primary-500">-</div>
    <div class="text-xs text-neutral-500 mt-1">Avg Response Time</div>
  </div>
  <div class="bg-white rounded-2xl border p-4 text-center">
    <div class="text-3xl mb-2">ðŸ˜Š</div>
    <div id="dashboard-stat-satisfaction" class="text-2xl font-bold text-success-500">-</div>
    <div class="text-xs text-neutral-500 mt-1">Satisfaction Rate</div>
  </div>
</div>

<!-- Quick Actions -->
<div class="bg-white rounded-2xl border p-5 mb-4">
  <h3 class="font-semibold text-neutral-700 mb-3">âš¡ Quick Actions</h3>
  <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
    <a href="/admin/whatsapp-qr" class="flex flex-col items-center gap-2 p-4 border-2 border-dashed border-neutral-200 rounded-xl hover:border-primary-400 hover:bg-primary-50 transition group">
      <div class="text-3xl group-hover:scale-110 transition-transform">ðŸ“±</div>
      <div class="font-medium text-neutral-700 text-sm">Pair WhatsApp</div>
      <div class="text-xs text-neutral-500">Scan QR to connect</div>
    </a>
    <button onclick="quickActionTrainIntent()" class="flex flex-col items-center gap-2 p-4 border-2 border-dashed border-neutral-200 rounded-xl hover:border-success-400 hover:bg-success-50 transition group">
      <div class="text-3xl group-hover:scale-110 transition-transform">ðŸŽ“</div>
      <div class="font-medium text-neutral-700 text-sm">Train Intent</div>
      <div class="text-xs text-neutral-500">Add training examples</div>
    </button>
    <button onclick="quickActionTestChat()" class="flex flex-col items-center gap-2 p-4 border-2 border-dashed border-neutral-200 rounded-xl hover:border-warning-400 hover:bg-warning-50 transition group">
      <div class="text-3xl group-hover:scale-110 transition-transform">ðŸ’¬</div>
      <div class="font-medium text-neutral-700 text-sm">Test Chat</div>
      <div class="text-xs text-neutral-500">Try the AI assistant</div>
    </button>
  </div>
</div>

<!-- Recent Activity -->
<div class="bg-white rounded-2xl border overflow-hidden">
  <div class="bg-neutral-50 px-4 py-3 border-b flex items-center justify-between">
    <div class="flex items-center gap-2">
      <h3 class="font-semibold text-neutral-700">ðŸ“Š Recent Activity</h3>
      <span id="activity-live-dot" class="flex items-center gap-1 text-xs text-success-600 font-medium hidden">
        <span class="relative flex h-2 w-2">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-success-400 opacity-75"></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-success-500"></span>
        </span>
        LIVE
      </span>
      <span id="activity-offline-dot" class="text-xs text-neutral-400 hidden">Connecting...</span>
    </div>
    <button onclick="refreshDashboard()" class="text-xs text-primary-500 hover:text-primary-600 font-medium">Refresh</button>
  </div>
  <div id="dashboard-recent-activity" class="p-4 max-h-96 overflow-y-auto">
    <!-- Loading state -->
    <div class="text-center py-6">
      <div class="inline-block animate-spin rounded-full h-6 w-6 border-3 border-primary-500 border-t-transparent mb-2"></div>
      <div class="text-sm text-neutral-500">Connecting to live feed...</div>
    </div>
  </div>
</div>
