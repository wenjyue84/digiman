<div class="rc-container">
      <!-- Sidebar: Conversation List -->
      <div class="rc-sidebar" id="rc-sidebar">
        <div class="rc-sidebar-header">
          <select class="rc-instance-filter" id="rc-instance-filter" onchange="filterConversations()">
            <option value="">All Instances</option>
          </select>
          <input type="text" class="rc-search" id="rc-search" placeholder="Search conversations..." oninput="filterConversations()">
        </div>
        <div class="rc-chat-list" id="rc-chat-list">
          <div class="rc-sidebar-empty" id="rc-sidebar-empty">
            <p>No conversations yet.</p>
            <p style="margin-top:4px;font-size:12px;">Real WhatsApp chats will appear here once guests message your AI bot.</p>
          </div>
        </div>
      </div>

      <!-- Main: Chat View -->
      <div class="rc-main" id="rc-main">
        <div class="rc-empty-state" id="rc-empty-state">
          <svg viewBox="0 0 303 172" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M229.565 160.229C262.212 149.245 286.931 118.241 283.39 73.4194C278.009 5.31929 210.79 -13.3636 152.068 7.57783C93.347 28.5765 44.1521 24.4094 20.1704 45.7478C-3.81149 67.0862 -4.63543 121.735 37.3013 148.288C79.2381 174.841 191.585 173.17 229.565 160.229Z" fill="#DAF7E3"/>
            <rect x="54" y="28" width="195" height="130" rx="10" fill="white" stroke="#E0E0E0" stroke-width="2"/>
            <rect x="54" y="28" width="65" height="130" rx="10" fill="#F7F8FC"/>
            <circle cx="86" cy="56" r="8" fill="#CBD5E1"/>
            <rect x="66" y="70" width="40" height="4" rx="2" fill="#CBD5E1"/>
            <circle cx="86" cy="88" r="8" fill="#CBD5E1"/>
            <rect x="66" y="102" width="40" height="4" rx="2" fill="#CBD5E1"/>
            <rect x="135" y="50" width="90" height="16" rx="6" fill="#E8F5E9"/>
            <rect x="145" y="76" width="80" height="16" rx="6" fill="#F3F4F6"/>
            <rect x="135" y="102" width="90" height="16" rx="6" fill="#E8F5E9"/>
          </svg>
          <h3>Real Chat Monitor</h3>
          <p>Select a conversation from the sidebar to view the chat between your AI assistant and guests.</p>
        </div>

        <!-- Active chat view (hidden until conversation selected) -->
        <div id="rc-active-chat" style="display:none;flex-direction:column;height:100%;">
          <div class="rc-main-header">
            <div class="rc-avatar" id="rc-active-avatar">?</div>
            <div class="rc-header-info">
              <div class="rc-header-name" id="rc-active-name">Guest</div>
              <div class="rc-header-phone" id="rc-active-phone">+60... <span id="rc-active-instance" class="rc-instance-badge" style="margin-left:4px;"></span></div>
            </div>
            <div class="rc-header-actions">
              <button class="rc-dev-toggle" id="rc-dev-toggle" onclick="toggleDevMode()" title="Toggle Developer Mode">
                ğŸ”§ Dev
              </button>
              <button class="rc-translate-toggle" id="rc-translate-toggle" onclick="toggleTranslateMode()" title="Toggle Translation Mode">
                ğŸŒ Translate
              </button>
              <select class="rc-lang-selector" id="rc-lang-selector" title="Target Language" style="display:none;" onchange="handleLangChange()">
                <option value="en">English</option>
                <option value="ms">Malay</option>
                <option value="zh">Chinese</option>
                <option value="id">Indonesian</option>
                <option value="th">Thai</option>
                <option value="vi">Vietnamese</option>
              </select>
              <button onclick="refreshActiveChat()" title="Refresh">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 2v6h-6M3 12a9 9 0 0115-6.7L21 8M3 22v-6h6M21 12a9 9 0 01-15 6.7L3 16"/></svg>
              </button>
              <button onclick="deleteActiveChat()" title="Delete conversation">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
              </button>
            </div>
          </div>
          <div class="rc-messages" id="rc-messages"></div>
          <div class="rc-input-area">
            <textarea class="rc-input-box" id="rc-input-box" placeholder="Type a manual reply..." rows="1" oninput="autoResizeInput(this)" onkeydown="handleInputKeydown(event)"></textarea>
            <button class="rc-send-btn" id="rc-send-btn" onclick="sendManualReply()" title="Send message">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
              </svg>
            </button>
          </div>
          <div class="rc-stats-bar" id="rc-stats-bar">
            <span id="rc-stat-total">0 messages</span>
            <span id="rc-stat-started">Started: â€”</span>
            <span id="rc-stat-last">Last active: â€”</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Translation Confirmation Modal -->
    <div id="rc-translate-modal" class="rc-translate-modal" style="display:none;" onclick="if(event.target===this) closeTranslateModal()">
      <div class="rc-translate-content">
        <div class="rc-translate-title">ğŸŒ Confirm Translation</div>
        <div style="margin-bottom:12px;">
          <strong style="color:#6b7280;font-size:12px;">Original:</strong>
          <div class="rc-translate-text" id="rc-translate-original"></div>
        </div>
        <div style="margin-bottom:16px;">
          <strong style="color:#6b7280;font-size:12px;">Translated (<span id="rc-translate-lang-name"></span>):</strong>
          <div class="rc-translate-text" id="rc-translate-translated"></div>
        </div>
        <div class="rc-translate-buttons">
          <button class="rc-translate-btn cancel" onclick="closeTranslateModal()">Cancel</button>
          <button class="rc-translate-btn send" onclick="confirmTranslation()">Send Translation</button>
        </div>
      </div>
    </div>
